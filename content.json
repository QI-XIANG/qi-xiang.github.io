{"meta":{"title":"Hexo","subtitle":"","description":"","author":"Qi Xiang,Zhang","url":"https://qi-xiang.github.io","root":"/"},"pages":[{"title":"","date":"2021-05-06T09:48:14.284Z","updated":"2021-05-06T09:48:14.284Z","comments":true,"path":"about/CSS_homepage/rwd.css","permalink":"https://qi-xiang.github.io/about/CSS_homepage/rwd.css","excerpt":"","text":"/*å®Œç¾æ”¯æ´320ã€375ã€425ã€768ã€1440ã€1536ã€1920px*/ /**********************************Design for Phone*************************************/ @media screen and (min-width: 320px){ #inner-experience{ margin:0px 0px !important; } #mail_jumbo{ padding-top: 0px; } #mail pre{ margin-left: 0px !important; } #inner-education{ margin: 0px 0px !important; } } @media screen and (min-width: 375px){ #inner-experience{ margin:0px 0px !important; } #mail_jumbo{ padding-top: 0px; } #mail pre{ margin-left: 0px !important; } #inner-education{ margin: 0px 0px !important; } } @media screen and (min-width: 425px) { /*Done*/ #inner-experience{ margin:0px 0px !important; } #mail_jumbo{ padding-top: 0px; } #mail pre{ margin-left: 0px !important; } #inner-education{ margin: 0px 0px !important; } } /***************************************************************************************/ @media screen and (min-width: 768px) { /*Done*/ #inner-education{ margin:0px 24px !important; margin-left: 8%; } #inner-experience{ margin:0px 24px !important; } #mail pre{ margin: 0px !important; } #mail_jumbo{ padding-top: 0px !important; } #icon{ padding-bottom: 0px; } } @media screen and (min-width: 1440px) { /*Done*/ #inner-education{ padding:0px 141px !important; } #contact{ padding-left: 150px; } #inner-experience{ padding:0px 141px !important; } #mail{ padding-left: 165px; padding-top: 64px; } #icon{ padding: 0px 150px; } } @media screen and (min-width: 1536px) { /*Done*/ #inner-education{ padding:0px 0px 0px 189px !important; } #inner-experience{ padding: 0px 189px !important; margin-right:0px !important; } #contact{ padding-left: 198px; } #icon{ padding-left: 198px; } #mail{ padding-top: 64px; padding-left: 213px; } } @media screen and (min-width: 1920px) { /*Done*/ #inner-education{ padding:0px 0px 0px 381px !important; } #inner-experience{ padding-left: 381px !important; margin-right:0px !important; } #contact{ padding-left: 390px; } #icon{ padding-left: 390px; } #mail{ padding-top: 64px; padding-left: 405px; } }"},{"title":"","date":"2020-12-22T13:28:52.860Z","updated":"2020-12-22T13:28:52.860Z","comments":true,"path":"about/README.html","permalink":"https://qi-xiang.github.io/about/README.html","excerpt":"","text":"qi-xiang.github.io"},{"title":"","date":"2021-05-13T04:00:18.992Z","updated":"2021-05-13T04:00:18.992Z","comments":true,"path":"about/CSS_homepage/rwd2.css","permalink":"https://qi-xiang.github.io/about/CSS_homepage/rwd2.css","excerpt":"","text":"div .row{ background-color: #E9ECEF; } #foot{ background-color: #5569DC; } .marquee { width: 300px; /* the plugin works for responsive layouts so width is not necessary */ overflow: hidden; border:1px solid #ccc; }"},{"title":"","date":"2021-04-22T15:24:39.596Z","updated":"2021-04-22T15:24:39.596Z","comments":true,"path":"about/CSS_homepage/style.css","permalink":"https://qi-xiang.github.io/about/CSS_homepage/style.css","excerpt":"","text":"#myBtn { display: none; position: fixed; bottom: 10px; right: 10px; z-index: 99; font-size: 18px; border: none; outline: none; background-color: red; color: white; cursor: pointer; padding: 15px; border-radius: 4px; opacity: 0.5; } #myBtn:hover { background-color: #555; } a{ text-decoration: none; } /* Style all font awesome icons */ .fa { padding: 0px 25px 0px 0px; font-size: 20px; width: 20px; text-align: center; text-decoration: none; margin: 5px 2px; } /* Add a hover effect if you want */ .fa:hover { opacity: 0.7; } /* Set a specific color for each brand */ /* Facebook */ .fa-facebook { color: black; } /* LinkedIn */ .fa-linkedin { color: black; } /*Instagram*/ .fa-instagram { color: black; } /*Style for a:hover*/ .about a:hover{ color: aqua !important; } .education a:hover{ color: aqua !important; } .skills a:hover{ color: aqua !important; }.awards a:hover{ color: aqua !important; }"},{"title":"","date":"2021-05-13T04:02:27.460Z","updated":"2021-05-13T04:02:27.460Z","comments":true,"path":"about/JS_homepage/FadeIn_Animation.js","permalink":"https://qi-xiang.github.io/about/JS_homepage/FadeIn_Animation.js","excerpt":"","text":"$(document).ready(function(){ $(\"#fadeArea1 p\").hide() $(\"#fadeArea2 pre\").hide() $(\"#fadeArea2 p\").hide() $(\"#fadeArea3 pre\").hide() $(\"#fadeArea3 p\").hide() $(\"#fadeArea4 pre\").hide() $(\"#fadeArea4 p\").hide() $(\"#fadeArea5 pre\").hide() $(\"#fadeArea5 p\").hide() for(var i = 1;i=$('#about').offset().top){ $(\"#fadeArea1 p\").fadeIn(1000); } if($(window).scrollTop()+330>=$('#education').offset().top){ $(\"#fadeArea2 p\").fadeIn(1000); $(\"#fadeArea2 pre\").fadeIn(1000); } if($(window).scrollTop()+420>=$('#experience').offset().top){ $(\"#fadeArea3 p\").fadeIn(1000); $(\"#fadeArea3 pre\").fadeIn(1000); } if($(window).scrollTop()+440>=$('#skills').offset().top){ for(var i = 1;i=$('#awards').offset().top){ $(\"#fadeArea4 p\").fadeIn(1200); $(\"#fadeArea4 pre\").fadeIn(1200); } if($(window).scrollTop()+600>=$('#interests').offset().top){ $(\"#fadeArea5 p\").fadeIn(1300); $(\"#fadeArea5 pre\").fadeIn(1300); } }) $('.marquee').marquee({ //duration in milliseconds of the marquee duration: 8000, //gap in pixels between the tickers gap: 50, //time in milliseconds before the marquee will start animating delayBeforeStart: 0, //'left' or 'right' direction: 'left', //true or false - should the marquee be duplicated to show an effect of continues flow duplicated: true }); })"},{"title":"","date":"2021-04-22T14:37:21.604Z","updated":"2021-04-22T14:37:21.603Z","comments":true,"path":"about/animation/animation.css","permalink":"https://qi-xiang.github.io/about/animation/animation.css","excerpt":"","text":"@charset \"utf-8\"; h1{ text-align: center; color: darkorchid; padding-bottom: 15px; margin-top: 25px; margin-bottom: 25px; } body{ background-image: url(img/2.png); background-repeat: repeat-x; background-color: wheat; } a{ text-decoration: none; } a:hover{ color: red; } a:active{ color: blue; } .more{ text-align: right; padding: 20px 24px 20px 20px; background-image: url(img/icon.png); background-repeat: no-repeat; background-position: right center; clear: left; } h2{ border: black 1px solid; border-left: gray 15px solid; width: 180px; } table{ width: 50%; border: violet 1px solid; } th,td{ padding: 5px 10px; border: violet 1px solid; border-collapse: collapse; } #wrap{ width: 798px; margin: 40px auto; padding: 40px 80px; border: white 1px solid; background-color: white; } #a,#b,#c{ background-color: wheat; background-image: url(img/30.jpg); background-repeat: repeat-x; margin: 20px 0; padding: 35px 30px 30px 30px; } .ph{ float: left; margin-right: 30px; } .data{ width: 300px; float: left; } dt{ clear: left; float: left; font-weight: bold; } @keyframes marquee{ 0%{ left: 0%; } 100%{ left:-100%; } } div.marquee{ overflow: hidden; width: 420px; position: relative;margin: auto; height: 25px; } .marquee div{ display: block; overflow: hidden; width:200%; height: 25px; position: absolute; animation: marquee 10s linear infinite; } .marquee div span{ width: 50%; float: left; font-weight: bold; }"},{"title":"","date":"2021-04-22T14:37:30.908Z","updated":"2021-04-22T14:37:30.907Z","comments":true,"path":"about/animation/feedback.html","permalink":"https://qi-xiang.github.io/about/animation/feedback.html","excerpt":"","text":"feedback for animation å›é¥‹è¡¨å–® æ€§åˆ¥: ç”·ç”Ÿ å¥³ç”Ÿ å¹´é½¡: è«‹é¸æ“‡ å–œæ­¡çš„è§’è‰²: æœ€å–œæ­¡çš„å¥³ä¸»è§’: é›ªä¹‹ä¸‹é›ªä¹ƒ ç”±æ¯”æ¿±çµè¡£ å·å´æ²™å¸Œ ä¸€è‰²ä¼Šå‘‚æ³¢ ç¶²ç«™æ”¹å–„æ„è¦‹: æœ€å¾Œç¢ºèª:"},{"title":"","date":"2021-04-22T14:40:14.530Z","updated":"2021-04-22T14:40:14.530Z","comments":true,"path":"about/animation/animation.html","permalink":"https://qi-xiang.github.io/about/animation/animation.html","excerpt":"","text":"animation æœç„¶æˆ‘çš„é’æ˜¥æˆ€æ„›å–œåŠ‡æéŒ¯äº†! æœç„¶æˆ‘çš„é’æ˜¥æˆ€æ„›å–œåŠ‡æéŒ¯äº†!å®Œ~2020å¹´7æœˆæ”¾é€é–‹å§‹! æœç„¶æˆ‘çš„é’æ˜¥æˆ€æ„›å–œåŠ‡æéŒ¯äº†!å®Œ~2020å¹´7æœˆæ”¾é€é–‹å§‹! ä¾†ä»‹ç´¹ä¸€ä¸‹æˆ‘å–œæ­¡çš„ä½œå“! ä½œå“æ¦‚è¦ åŠ‡æƒ…å¤§ç¶± ç™»å ´äººç‰© ç¶²ç«™ä½œè€…è³‡è¨Š å›é¥‹è¡¨å–® ä½œå“æ¦‚è¦ ã€Šæœç„¶æˆ‘çš„é’æ˜¥æˆ€æ„›å–œåŠ‡æéŒ¯äº†ã€‚ã€‹ï¼ˆæ—¥èªï¼šã‚„ã¯ã‚Šä¿ºã®é’æ˜¥ãƒ©ãƒ–ã‚³ãƒ¡ã¯ã¾ã¡ãŒã£ã¦ã„ã‚‹ã€‚ æ˜¯æ—¥æœ¬è¼•å°èªªä½œå®¶æ¸¡èˆªæ‰€å‰µä½œçš„è¼•å°èªªï¼Œæ’ç•«ç”±ã½ã‚“ã‹ã‚“â‘§è² è²¬ï¼Œç°¡é«”ç°¡ç¨±ã€Šæ˜¥ç‰©ã€‹(æˆ‘çš„é’æ˜¥æˆ€æ„›ç‰©èªæœç„¶æœ‰å•é¡Œ)ï¼Œç¹é«”ç°¡ç¨±ã€Šæœé’ã€‹(æœç„¶æˆ‘çš„é’æ˜¥æˆ€æ„›å–œåŠ‡æéŒ¯äº†)ï¼ˆæ—¥èªï¼šä¿ºã‚¬ã‚¤ãƒ«ï¼‰ã€‚ç”±GAGAGAæ–‡åº«ï¼ˆå°å­¸é¤¨ï¼‰æ–¼2011å¹´3æœˆè‡³2019å¹´11æœˆé–“ç™¼è¡Œå…¨14å·ï¼ˆæœ¬ç¯‡ï¼‰ï¼Œæ—¥æœ¬åœ°å€ç´¯è¨ˆç™¼è¡Œé‡å·²çªç ´900è¬æœ¬ã€‚æ–¼2013å¹´4æœˆè‡³6æœˆæ’­æ”¾ç¬¬1å­£å‹•ç•«ï¼Œ2015å¹´4æœˆè‡³6æœˆæ’­æ”¾ç¬¬2å­£å‹•ç•«ã€‚åŸå®šæ–¼2020å¹´4æœˆ9æ—¥é¦–æ’­ç¬¬3æœŸå®Œçµå‹•ç•«ï¼Œå¾Œå› åš´é‡ç‰¹æ®Šå‚³æŸ“æ€§è‚ºç‚ç–«æƒ…å½±éŸ¿å»¶æœŸè‡³åŒå¹´7æœˆã€‚ åŠ‡æƒ…å¤§ç¶± é«˜ä¸­ç”Ÿæ¯”ä¼è°·å…«å¹¡ç”Ÿæ€§å½†æ‰­ï¼Œä¸å±ˆæœæ–¼å­¤ç¨ï¼Œæ²’æœ‰åŠå€‹æœ‹å‹ï¼Œæ›´ä¸ç”¨æå¥³æœ‹å‹ã€‚å°é‚£äº›äº«å—è‘—é’æ˜¥çš„åŒç­åŒå­¸ï¼Œä»–è©›å’’ï¼šã€Œä»–å€‘éƒ½æ˜¯ç¾å……ï¼Œé€šé€šçµ¦æˆ‘çˆ†ç‚¸å§ï¼ã€â€”â€”é€™æ¨£ä¸€å€‹å‚¢ä¼™ï¼Œè¢«å°å¸«å¸¶å»å…¨æ ¡ç¬¬ä¸€ç¾å°‘å¥³é›ªä¹‹ä¸‹é›ªä¹ƒåŠ å…¥çš„ã€Œä¾å¥‰ç¤¾ã€ã€‚å¹³å‡¡ç„¡å¥‡çš„å…«å¹¡èˆ‡ç¾å°‘å¥³çš„å¥‡å¦™é‚‚é€…ï¼Œç„¶è€Œï¼Œé›ªä¹ƒå’Œå…«å¹¡å€‹æ€§ä¸Šçš„ç¼ºé™·è®“ä»–å€‘ç„¡æ³•æ“¦å‡ºæ„›æƒ…çš„ç«èŠ±ã€‚é€™æ˜¯ä¸€å‰‡å……æ»¿éŒ¯èª¤çš„é’æ˜¥æ•…äº‹ã€‚ ç™»å ´äººç‰©(ä¸»è¦) æ¯”ä¼è°· å…«å¹¡ å¹´é½¡:17æ­²ã€‚ ç”Ÿæ—¥:8æœˆ8æ—¥ï¼Œç…å­åº§ã€‚ è¡€å‹:Aå‹ã€‚ å–œæ­¡çš„é£Ÿç‰©:èœ‚èœœç‚’èŠ±ç”ŸåŠMaxå’–å•¡ã€‚ èˆˆè¶£:é–±è®€ã€ç©éŠæˆ²ã€çœ‹å‹•ç•«ã€‚ åº§å³éŠ˜:ã€Œå¼·æ±‚ä¸ä¾†å°±æ”¾æ£„ã€‚ã€ã€‚ æ›´å¤šä»‹ç´¹ é›ªä¹‹ä¸‹é›ªä¹ƒ å¹´é½¡:17æ­²ã€‚ ç”Ÿæ—¥:1æœˆ3æ—¥ï¼Œæ‘©ç¾¯åº§ã€‚ è¡€å‹:Bå‹ã€‚ å–œæ­¡çš„é£Ÿç‰©:é¾è¦å’Œç´…èŒ¶ã€‚ æ›´å¤šä»‹ç´¹ ç”±æ¯”æ¿±çµè¡£ å¹´é½¡:17æ­²ã€‚ ç”Ÿæ—¥:6æœˆ18æ—¥ï¼Œé›™å­åº§ã€‚ è¡€å‹:Oå‹ã€‚ å–œæ­¡çš„é£Ÿç‰©:ç”œé£Ÿã€‚ æ›´å¤šä»‹ç´¹ ç¶²é ä½œè€…ä»‹ç´¹ æš±ç¨±:ç¿”ç¿” è·æ¥­:ä¸­å¤®å¤§å­¸è³‡è¨Šç®¡ç†å­¸ç³»å­¸ç”Ÿ E-mail:a0905716188@gmail.com WEB:å»ºç½®ä¸­ æ•¬è«‹æœŸå¾…!! å›é¥‹è¡¨å–® å›é¥‹è¡¨å–®é€£çµ... Copyright &copy; GAGAGAæ–‡åº« All Rights Reserved. alert(\"è©²ç¶²ç«™é‚„è™•æ–¼æ¸¬è©¦éšæ®µ!!\");"},{"title":"","date":"2021-10-21T16:12:18.300Z","updated":"2021-10-21T16:12:18.300Z","comments":true,"path":"about/index.html","permalink":"https://qi-xiang.github.io/about/index.html","excerpt":"","text":"My Homepage document.addEventListener('click', musicPlay); function musicPlay() { document.getElementById('music').play(); document.removeEventListener('click', musicPlay); } Top Welcome to my website! About Education & Experience Skills & Languages Awards & Interests QI-XIANG, ZHANG MIS in International Information & System Taoyuan, Taiwan qixiang1009@gmail.com https://github.com/QI-XIANG About MY BACKGROUND With a passion for computer science, web design, and all things programming, I have both the skill set and professional background necessary to dive deep into the programming world. As an upbeat, self-motivated team player with excellent communication, I envision an exciting future in the industry. Browse my site to see all that I have to offer. Education WHAT Iâ€™VE LEARNED 2019 - Present National Central University, TaiwanManagement in Information System 2016 - 2019 Taichung First Senior High School Experience WHERE Iâ€™VE WORKED Mar. 2021 - Present NCU Coding Club, Member Jan. 2020 - Present NCU Traditional Chinese Music Club, Erhu Group Leader Oct. 2019 - Dec. 2019 NCU MIS Carnival, Curation Group Member Sep. 2019 - Jan. 2020 NCU Traditional Chinese Music Club, Member Skills & Languages WHAT I BRING TO THE TABLE Java 20% Complete80% HTML & CSS 20% Complete70% JavaScript & JQuery 20% Complete50% Python 20% Complete45% Bootstrap 4 20% Complete40% Stock Analysis 20% Complete35% Git 20% Complete25% Chinese 20% Complete100% Taiwanese 20% Complete90% English 20% Complete80% Japanese 20% Complete35% Awards WHERE I SHINE Mayor Prize, Taichung City NCU College of Management,United Classes of Calculus 2019 Exam3 [21th place] JLPT N5 Certificate Interests OUT OF OFFICE Animation Reading Coding Web Design Stock Computer Science I'd love to hearfrom you qixiang1009@gmail.comhttps://github.com/QI-XIANG &copy; 2021 By Qi-Xiang Zhang.Proudly created with Bootstrap 4. //Get the button var mybutton = document.getElementById(\"myBtn\"); // When the user scrolls down 20px from the top of the document, show the button window.onscroll = function() {scrollFunction()}; function scrollFunction() { if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) { mybutton.style.display = \"block\"; } else { mybutton.style.display = \"none\"; } } // When the user clicks on the button, scroll to the top of the document function topFunction() { document.body.scrollTop = 0; document.documentElement.scrollTop = 0; } if (top.location !== self.location) { top.location.href = \"https://www.google.com\"; // å¾ˆä¸è² è²¬çš„è½‰çµ¦Google... XD } //audio play var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor); if (!isChrome){ $('#iframeAudio').remove() } else { $('#playAudio').remove() // just to make sure that it will not have 2x audio in the background }"}],"posts":[{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åå…«å¤©","slug":"ironman2021D18","date":"2021-10-22T07:08:37.000Z","updated":"2021-10-22T07:22:24.679Z","comments":true,"path":"2021/10/22/ironman2021D18/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D18/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™ä»Šå¤©ä¹Ÿæ˜¯è¤‡ç¿’å›ï¼Œä¸»è¦æ˜¯æ‹¿ä¾†é‡æ–°è¤‡ç¿’ä¸‹ Array çš„map()å’Œreduce()çš„ç”¨æ³•ã€‚æˆ‘å€‘çš„æœ€çµ‚ç›®æ¨™æ˜¯ç®—å‡ºå½±ç‰‡çš„é•·åº¦ç¸½å’Œä¸¦ä»¥æ™‚ã€åˆ†ã€ç§’å‘ˆç¾åœ¨ consoleè£¡ã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†ä»¥ä¸‹æ˜¯æˆ‘å€‘è¦ç”¨ä¾†è¨ˆç®—å½±ç‰‡ç¸½æ™‚æ•¸çš„æ¸…å–®ï¼Œå…¶ä¸­data-timeå±¬æ€§å€¼æ¨™ç¤ºå‡ºå½±ç‰‡çš„é•·åº¦ã€‚ 123456789101112131415161718&lt;ul class=&quot;videos&quot;&gt; &lt;li data-time=&quot;5:43&quot;&gt; Video 1 &lt;/li&gt; &lt;li data-time=&quot;2:33&quot;&gt; Video 2 &lt;/li&gt; &lt;li data-time=&quot;3:45&quot;&gt; Video 3 &lt;/li&gt; &lt;li data-time=&quot;0:47&quot;&gt; Video 4 &lt;/li&gt; &lt;li data-time=&quot;5:21&quot;&gt; Video 5 &lt;/li&gt; &lt;!--ä»¥ä¸‹çœç•¥--&gt;&lt;ul&gt; JS éƒ¨åˆ†ä¸€é–‹å§‹ï¼Œæˆ‘å€‘å®£å‘Šå¸¸æ•¸timeNodesç”¨ä¾†æ”¾æˆ‘å€‘å–å¾—çš„æ‰€æœ‰æ¸…å–®é …ç›®(&lt;li&gt;~&lt;/li&gt;)ï¼Œå› ç‚ºä¹‹å¾Œæœƒç”¨åˆ° Array çš„reduce()ã€map()ï¼Œé€™è£¡å°±é †ä¾¿æŠŠNodeListç”¨Array.from()è½‰æ›æˆ Arrayã€‚ 1const timeNodes = Array.from(document.querySelectorAll(&#x27;[data-time]&#x27;)); å®£å‘Šå¸¸æ•¸secondså­˜å…¥æ‰€æœ‰å½±ç‰‡çš„ç§’æ•¸ç¸½å’Œã€‚ ç¬¬ä¸€å€‹map()å¹«æˆ‘å€‘å–å¾—å€‹åˆ¥å½±ç‰‡æ™‚é–“æ‰€æ§‹æˆçš„é™£åˆ—(åˆ†:ç§’)ã€‚ç¬¬äºŒå€‹map()å¹«æˆ‘å€‘æŠŠå½±ç‰‡æ™‚é–“çš„åˆ†å’Œç§’åˆ‡é–‹(é–“éš”ç¬¦è™Ÿ:)ï¼Œç¬¬ä¸‰å€‹map()å¹«æˆ‘å€‘æŠŠé™£åˆ—ä¸­çš„å…ƒç´ éƒ½è½‰æ›æˆæµ®é»æ•¸ï¼Œæœ€å¾ŒæŠŠå½±ç‰‡çš„é•·åº¦éƒ½æ›æˆç§’(mins * 60 + secs)ã€‚ æŠŠå½±ç‰‡é•·åº¦éƒ½æ›æˆä»¥ç§’ç‚ºå–®ä½å¾Œï¼Œå°±å¯ä»¥ç”¨reduce()å°‡å®ƒå€‘åŠ åœ¨ä¸€èµ·å›‰! 1234567const seconds = timeNodes .map(node =&gt; node.dataset.time) .map(timeCode =&gt; &#123; const [mins, secs] = timeCode.split(&#x27;:&#x27;).map(parseFloat); return (mins * 60) + secs; &#125;) .reduce((total, vidSeconds) =&gt; total + vidSeconds); ç¬¬ä¸€æ¬¡map()å¾Œç”¢ç”Ÿçš„é™£åˆ— ç¬¬äºŒã€ä¸‰æ¬¡map()å¾Œç”¢ç”Ÿçš„é™£åˆ— æ‰€æœ‰å½±ç‰‡é•·åº¦çš„ç§’æ•¸ç¸½å’Œ æ¥ä¸‹ä¾†ï¼ŒæŠŠå¾—åˆ°çš„ç¸½ç§’æ•¸æ›æˆæ™‚ã€åˆ†ã€ç§’çš„å½¢å¼å°±å®Œæˆæœ¬æ—¥çš„ç›®æ¨™å›‰! 123456789let secondsLeft = seconds;//Math.floor() å›å‚³å°æ–¼ç­‰æ–¼æ‰€çµ¦æ•¸å­—çš„æœ€å¤§æ•´æ•¸const hours = Math.floor(secondsLeft / 3600);secondsLeft = secondsLeft % 3600;const mins = Math.floor(secondsLeft / 60);secondsLeft = secondsLeft % 60;console.log(hours, mins, secondsLeft); è£œå……è³‡æ–™:Array.from()parseFloat()Array.prototype.map()Array.prototype.reduce()Math.floor()","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åä¸ƒå¤©","slug":"ironman2021D17","date":"2021-10-22T07:08:32.000Z","updated":"2021-10-22T07:20:40.025Z","comments":true,"path":"2021/10/22/ironman2021D17/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D17/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™å°‡é™£åˆ—å…ƒç´ æ‹¿æ‰å† è©å†é€²è¡Œæ’åºï¼Œç„¶å¾Œå€‹åˆ¥è½‰æˆ HTML çš„æ ¼å¼æ”¾å…¥æ¸…å–®ä¸­ã€‚(ä»Šå¤©æ˜¯è¤‡ç¿’å›ï¼Œç›¸ä¿¡åªè¦æœ‰èªçœŸå­¸ç¿’å‰é¢çš„èª²ç¨‹å…§å®¹ï¼Œä¸€å®šå¯ä»¥è¼•é¬†å®Œæˆçš„!!!) è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†å—¯ï¼Œå°±æ˜¯ä¸€å€‹ç©ºçš„æ¸…å–®ã€‚ 1&lt;ul id=&quot;bands&quot;&gt;&lt;/ul&gt; JS éƒ¨åˆ†(ps. é€™æ¬¡åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨è¤‡ç¿’ä¹‹å‰Arrayçš„æ±è¥¿ï¼Œæ‰€ä»¥å°±ä¸å†è´…è¿°Arrayæ–¹æ³•çš„é‹ç”¨) æˆ‘å€‘è¦æ‹¿ä¾†åšæ’åºçš„é™£åˆ—bandsã€‚ 1const bands = [&#x27;The Plot in You&#x27;, &#x27;The Devil Wears Prada&#x27;, &#x27;Pierce the Veil&#x27;, &#x27;Norma Jean&#x27;, &#x27;The Bled&#x27;, &#x27;Say Anything&#x27;, &#x27;The Midway State&#x27;, &#x27;We Came as Romans&#x27;, &#x27;Counterparts&#x27;, &#x27;Oh, Sleeper&#x27;, &#x27;A Skylit Drive&#x27;, &#x27;Anywhere But Here&#x27;, &#x27;An Old Dog&#x27;]; ä¾ç…§é™£åˆ—å…ƒç´ çš„å­—æ¯é †åºæ’åˆ—ã€‚ 1234567const sortedBands = bands.sort((a,b) =&gt; &#123; if(a &gt; b)&#123; return 1; &#125;else&#123; return -1; &#125;&#125;); æˆ‘å€‘å¸Œæœ›å»æ‰å† è©(articles)å¾Œå†åšæ’åºï¼Œæ‰€ä»¥æ’°å¯«strip()ç”¨ä¾†å»æ‰å† è©ã€‚ replace(/^(a |the |an )/i, &#39;&#39;): å°‡é™£åˆ—å…ƒç´ çš„å† è©(ä¸åˆ†å¤§å°å¯«)ä»¥ç©ºç™½å–ä»£ã€‚ trim() : å»æ‰å­—ä¸²å…©é‚Šçš„ç©ºç™½ã€‚ 123function strip(bandName)&#123; return bandName.replace(/^(a |the |an )/i, &#x27;&#x27;).trim();&#125; æ”¹æˆå»æ‰å† è©å†æ’åº: 1234567const sortedBands = bands.sort(function(a,b)&#123; if(strip(a) &gt; strip(b))&#123; return 1; &#125;else&#123; return -1; &#125;&#125;); ç²¾ç°¡ä¸€é»çš„å¯«æ³•: 123const sortedBands = bands.sort((a,b) =&gt; &#123; return strip(a) &gt; strip(b) ? 1 : -1;&#125;); å°‡æ’åºéçš„é™£åˆ—å…ƒç´ è½‰æ›æˆ HTML æ ¼å¼æ”¾å…¥æ¸…å–®(#bands)ä½œç‚ºå…¶ä¸­çš„é …ç›®ã€‚ 1document.querySelector(&#x27;#bands&#x27;).innerHTML = sortedBands.map(band =&gt; `&lt;li&gt;$&#123;band&#125;&lt;/li&gt;`); é€™å€‹æ™‚å€™æ‰“é–‹ç€è¦½å™¨ï¼Œæˆ‘å€‘æœƒç™¼ç¾å¥½åƒæœ‰é‚£è£¡æ€ªæ€ªçš„ï¼Œæ¸…å–®é …ç›®ä¹‹å‰æ€éº¼æœ‰çš„æœƒæœ‰é€—è™Ÿ(,)å‘¢? é‚£æ˜¯å› ç‚ºæˆ‘å€‘æ”¾é€²å»çš„æ˜¯è¢«ç”¨toString()å…ˆè½‰å‹éå¾Œçš„å­—ä¸²ï¼Œä½†åŸæœ¬é™£åˆ—å…ƒç´ ä¹‹é–“å°±æœ‰ç”¨é€—è™Ÿ(,)ä½œç‚ºé–“éš”ç¬¦è™Ÿï¼Œåœ¨è½‰å‹å¾Œé›–ç„¶å»æ‰[]ï¼Œä½†æ˜¯é€—è™Ÿ(,)ä¾ç„¶é‚„åœ¨ï¼Œä¹Ÿå°±é€™æ¨£è¢«æ”¾é€²å»äº†ã€‚ æˆ‘å€‘å¯ä»¥ç”¨è€æ–¹æ³•join()å¹«æˆ‘å€‘å…ˆæŠŠé™£åˆ—å…ƒç´ ä»¥ç©ºç™½ä½œç‚ºé–“éš”ç¬¦è™Ÿä¸²è¯æˆå­—ä¸²å†æ”¾é€²å»#bandçš„innerHTMLï¼Œé€™æ¨£é€—è™Ÿå°±æ¶ˆå¤±å•¦ã€‚ 1document.querySelector(&#x27;#bands&#x27;).innerHTML = sortedBands.map(band =&gt; `&lt;li&gt;$&#123;band&#125;&lt;/li&gt;`).join(&quot;&quot;); ä»Šå¤©çš„å…§å®¹åŸºæœ¬ä¸Šæ˜¯åœ¨è¤‡ç¿’ä¹‹å‰å­¸éçš„æ±è¥¿ï¼Œè§€çœ‹ JS30 çš„æ•™å­¸å½±ç‰‡æ™‚ï¼Œå¯ä»¥è€ƒæ…®æš«åœå½±ç‰‡ï¼Œè‡ªå·±ç·´ç¿’çœ‹çœ‹å–”! è£œå……è³‡æ–™:Array.prototype.sort()Array.prototype.map()String.prototype.replace()String.prototype.trim()Array.prototype.join()Template literals ç¯„ä¾‹ç¶²é è«‹é»æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åå…­å¤©","slug":"ironman2021D16","date":"2021-10-22T07:08:27.000Z","updated":"2021-10-22T07:18:28.576Z","comments":true,"path":"2021/10/22/ironman2021D16/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D16/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™è®“æ–‡å­—é™°å½±è·Ÿè‘—æ»‘é¼ ä¸€èµ·ç§»å‹•ã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†åœ¨.heroå…§æ”¾å…¥æˆ‘å€‘é è¨ˆè¦ç”¨ä¾†ç”¢ç”Ÿæ–‡å­—é™°å½±(Text Shadow)æ•ˆæœçš„æ–‡å­—(h1)ã€‚ h1ä¸Šæœ‰ä¸€å€‹ç‰¹æ®Šçš„å±¬æ€§:contenteditableï¼Œè¡¨ç¤º&lt;h1&gt;&lt;/h1&gt;ä¹‹é–“çš„å…§å®¹æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ã€‚ 123&lt;div class=&quot;hero&quot;&gt; &lt;h1 contenteditable&gt;ğŸ”¥WOAH!&lt;/h1&gt;&lt;/div&gt; &lt;h1&gt;&lt;/h1&gt;ä¹‹é–“çš„å…§å®¹å¯è¢«ä¿®æ”¹å¦‚ä¸‹: ä¿®æ”¹å‰ ä¿®æ”¹å¾Œ JS éƒ¨åˆ†åœ¨å¯¦ä½œæ–‡å­—é™°å½±æ•ˆæœä¹‹å‰ï¼Œæˆ‘å€‘è¦å…ˆå–å¾—.heroå’Œå…§éƒ¨çš„h1ã€‚ 12const hero = document.querySelector(&#x27;.hero&#x27;);const text = hero.querySelector(&#x27;h1&#x27;); ç”±æ–¼æˆ‘å€‘çš„ç›®çš„æ˜¯ç”¢ç”Ÿæ–‡å­—é™°å½±éš¨è‘—æ»‘é¼ ç§»å‹•çš„æ•ˆæœï¼Œæ‰€ä»¥åœ¨.heroä¸Šè¨»å†Šmousemove äº‹ä»¶çš„ç›£è½å™¨ä¸¦ä»¥shadow()é€²è¡Œäº‹ä»¶è™•ç†ã€‚ 1hero.addEventListener(&#x27;mousemove&#x27;,shadow); shadow() :const &#123; offsetWidth: width, offsetHeight: height&#125; = hero; : æœ€åˆï¼Œæˆ‘å€‘å¿…é ˆå…ˆå–å¾—.heroçš„widthã€heightï¼Œç”¨ä¾†è¨ˆç®—å¾ŒçºŒæ–‡å­—é™°å½±çš„ç§»å‹•é‡ã€‚ let &#123; offsetX: x, offsetY: y&#125; = e; : æˆ‘å€‘ä¹Ÿå¿…é ˆçŸ¥é“ç¾åœ¨æ»‘é¼ æ‰€åœ¨çš„åº§æ¨™ã€‚ æ³¨æ„ï¼Œé€™è£¡æˆ‘å€‘ä½¿ç”¨çš„æ˜¯ ES6 Destructuring Assignment(è§£æ§‹è³¦å€¼)çš„èªæ³•æ‰€ä»¥ä¸ä½¿ç”¨åƒæ˜¯const width = hero.offsetWidth;ã€const height = hero.offsetHeight;é€™ç¨®è¼ƒç¹ç‘£çš„å¯«æ³•ã€‚ 12345678910function shadow(e)&#123; //const width = hero.offsetWidth; //const height = hero.offsetHeight; const &#123; offsetWidth: width, offsetHeight: height&#125; = hero; //where the person&#x27;s cursor was //let x = e.offsetX; //let y = e.offsetY; let &#123; offsetX: x, offsetY: y&#125; = e;&#125; å› ç‚ºevent.offsetXã€event.offsetYå–å¾—çš„æ˜¯æ»‘é¼ ç›¸å°æ–¼äº‹ä»¶æºå…ƒç´ ï¼ˆsrcElementï¼‰çš„X,Yåæ¨™ï¼Œæ‰€ä»¥ç•¶æˆ‘å€‘æŠŠæ»‘é¼ ç§»å‹•åˆ°h1å¾—åˆ°çš„åº§æ¨™å°±æœƒæ˜¯ä»¥h1çš„å·¦ä¸Šè§’ç‚º(0,0)é–‹å§‹çš„ä½ç½®ã€‚ é€™æ¨£çš„ä½ç½®æ˜¯æœ‰å•é¡Œçš„ï¼Œæˆ‘å€‘åŸæœ¬è¦å–å¾—çš„æ‡‰è©²æ˜¯æ»‘é¼ åœ¨è¦–çª—è£¡é¢çš„ä½ç½®(æˆ–èªªæ˜¯æ»‘é¼ ç›¸å°.heroçš„ä½ç½®)ï¼Œæ‰€ä»¥å¿…é ˆè¦åšä¸€é»ä¿®æ­£ã€‚ æˆ‘å€‘åœ¨è§¸ç™¼mousemove eventçš„ DOM ç‰©ä»¶ä¸æ˜¯.heroçš„æƒ…æ³ä¸‹(this !== e.target)é€²è¡Œåº§æ¨™ä¿®æ­£ï¼Œåªè¦æ»‘é¼ è™•æ–¼h1å…§éƒ¨ï¼Œå°±åˆ†åˆ¥æŠŠ(x,y)åŠ ä¸Šh1ç›¸å°.heroå·¦æ–¹å’Œä¸Šæ–¹çš„è·é›¢ã€‚ 12345678function shadow(e)&#123; /*ä¸Šç•¥...*/ //if hovering h1 instead of hero, then modify the x and the y values if (this !== e.target)&#123; x = x + e.target.offsetLeft; y = y + e.target.offsetTop; &#125;&#125; æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘è¦æ±ºå®šæ–‡å­—é™°å½±å¯¦éš›ä¸Šå¯ä»¥ç§»å‹•çš„è·é›¢å’Œç¯„åœã€‚ å®£å‘Šå¸¸æ•¸walkä½œç‚ºåœ¨(x,y)æ–¹å‘æ‰€èƒ½ç§»å‹•çš„æœ€é è·é›¢ï¼Œé€™è£¡æˆ‘å€‘è¨­ç‚º500ï¼Œä¹Ÿå°±æ˜¯å‘å·¦æˆ–å‘å³å„250ã€å‘ä¸Šæˆ–å‘ä¸‹å„250ã€‚ const xWalk = Math.round((x / width * walk) - (walk / 2));ï¼ŒæŠŠ.heroçš„ä¸­å¿ƒé»x åº§æ¨™æŒ‡å®šç‚º0ï¼Œxçš„ç¯„åœå¾-250~250(è¦–çª—æœ€å·¦é‚Šåˆ°æœ€å³é‚Š)ã€‚ const yWalk = Math.round((y / height * walk) - (walk / 2));ï¼ŒæŠŠ.heroçš„ä¸­å¿ƒé»y åº§æ¨™æŒ‡å®šç‚º0ï¼Œyçš„ç¯„åœå¾-250~250(è¦–çª—æœ€ä¸Šé¢åˆ°æœ€ä¸‹é¢)ã€‚ çµåˆå…©è€…ï¼Œç•«é¢ä¸Šçš„åº§æ¨™ : å·¦ä¸Šè§’(-250,-250)ã€æ­£ä¸­å¤®(0,0)ã€å³ä¸‹è§’(250,250)ã€‚ 12345678const walk = 500;function shadow(e)&#123; /*ä¸Šç•¥...*/ //how far the text shadow should actually go const xWalk = Math.round((x / width * walk) - (walk / 2)); const yWalk = Math.round((y / height * walk) - (walk / 2));&#125; TextShadowèƒ½ç§»å‹•çš„ç¯„åœ (ä»¥walk = 500ç‚ºä¾‹) æ±ºå®šTextShadowå¯ä»¥ç§»å‹•çš„ç¯„åœå¾Œï¼Œæ¥ä¸‹ä¾†åªè¦è¨­å®šTextShadowçš„ç§»å‹•æ–¹å‘å’Œé¡è‰²å°±å®Œæˆå›‰! 123456789function shadow(e)&#123; /*ä¸Šç•¥...*/ text.style.textShadow = ` $&#123;xWalk&#125;px $&#123;yWalk&#125;px 0 rgba(255,0,255,0.7), $&#123;xWalk * -1&#125;px $&#123;yWalk&#125;px 0 rgba(0,255,255,0.7), $&#123;yWalk&#125;px $&#123;xWalk * -1&#125;px 0 rgba(0,255,0,0.7), $&#123;yWalk * -1&#125;px $&#123;xWalk&#125;px 0 rgba(0,0,255,0.7) `;&#125; è£œå……è³‡æ–™:contenteditable[ç­†è¨˜] ES6: Destructuring Assignment è§£æ§‹è³¦å€¼çš„ä½¿ç”¨JSä¸€ç§’å€åˆ†clientX,offsetX,screenX,pageXä¹‹é–“é—œä¿‚ ç¯„ä¾‹ç¶²é è«‹é»æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åäº”å¤©","slug":"ironman2021D15","date":"2021-10-22T07:08:22.000Z","updated":"2021-10-22T07:17:11.867Z","comments":true,"path":"2021/10/22/ironman2021D15/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D15/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™å°‡è¢«æ–°å¢åˆ°menuçš„é …ç›®å„²å­˜åˆ°localStorageä¸­ï¼Œä½¿å¾—å¾ŒçºŒåˆ·æ–°é é¢æ™‚ï¼Œå¯ä»¥å¾localStorageèª¿ç”¨è³‡æ–™å›å¾©ä¹‹å‰æ–°å¢åœ¨menuçš„é …ç›®ã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†æœ€å¤–å±¤çš„.wrapperä»£è¡¨çš„æ˜¯æ•´å€‹çš„ menuï¼Œ.plateså‰‡ç”¨ä¾†æ”¾å…¥ menu çš„å…§å®¹é …ç›®ã€‚æœ€å¾Œï¼Œ.add-itemsæ˜¯ä¸€å€‹è¡¨å–®å…ƒç´ ï¼Œè£¡é¢æœ‰ä¸€å€‹æ–‡å­—è¼¸å…¥æ¡†(&lt;input type=&quot;text&quot;&gt;&lt;/input&gt;)ç”¨ä¾†å¡«å…¥è¦æ–°å¢çš„é …ç›®åç¨±ï¼Œé‚„æœ‰ä¸€å€‹ç”¨ä¾†åŠ å…¥é …ç›®åˆ° menu çš„ submit button(&lt;input type=&quot;submit&quot;&gt;&lt;/input&gt;)ã€‚ 1234567891011&lt;div class=&quot;wrapper&quot;&gt; &lt;h2&gt;LOCAL TAPAS&lt;/h2&gt; &lt;p&gt;&lt;/p&gt; &lt;ul class=&quot;plates&quot;&gt; &lt;li&gt;Loading Tapas...&lt;/li&gt; &lt;/ul&gt; &lt;form class=&quot;add-items&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;item&quot; placeholder=&quot;Item Name&quot; required&gt; &lt;input type=&quot;submit&quot; value=&quot;+ Add Item&quot;&gt; &lt;/form&gt;&lt;/div&gt; JS éƒ¨åˆ†å®£å‘Šå¸¸æ•¸addItemsç”¨ä¾†å­˜æ”¾å–å¾—çš„æ•´å€‹ menu(.add-items)ã€‚ å®£å‘Šå¸¸æ•¸itemsListç”¨ä¾†å­˜æ”¾ menu è£¡çš„æ‰€æœ‰é …ç›®(.plates)ã€‚ å®£å‘Šå¸¸æ•¸itemsç‚ºä¸€å€‹ç©ºé™£åˆ—ï¼Œç”¨ä¾†å­˜æ”¾æˆ‘å€‘æ¯æ¬¡åœ¨æ–‡å­—è¼¸å…¥æ¡†å¡«å…¥è¦æ–°å¢åˆ° menu çš„ itemã€‚ 123const addItems = document.querySelector(&#x27;.add-items&#x27;);const itemsList = document.querySelector(&#x27;.plates&#x27;);const items = []; addItem() :æˆ‘å€‘é¦–å…ˆç”¨e.preventDefault()é¿å…æ¯æ¬¡æäº¤æ–°çš„å…§å®¹é€²å…¥itemsé€ æˆé é¢çš„ reloadingã€‚ å®£å‘Šå¸¸æ•¸textç”¨ä¾†å­˜æ”¾åœ¨æ–‡å­—è¼¸å…¥æ¡†å¡«å…¥çš„é …ç›®åç¨±ã€‚ å»ºç«‹ç‰©ä»¶itemä¸¦è³¦äºˆå…©å€‹å±¬æ€§text(é …ç›®çš„åç¨±)ã€done(æ˜¯å¦è¢«å‹¾é¸)ï¼Œé€™è£¡æˆ‘å€‘åŸæœ¬å¯ä»¥ç”¨text:text;ï¼Œä½†åœ¨ ES6 è£¡å¯ä»¥è¢«ç°¡å¯«ç‚ºtextã€‚ å°‡å»ºç«‹å‡ºçš„ç‰©ä»¶æ”¾å…¥(push)é™£åˆ—itemsä¸­ï¼Œä¹‹å¾Œç”¨this.reset()æ¸…æ‰åœ¨æ–‡å­—è¼¸å…¥æ¡†çš„æ–‡å­—ä»¥åˆ©ä¸‹ä¸€æ¬¡æ–°å¢é …ç›®ã€‚ 123456789101112function addItem(e)&#123; e.preventDefault();//prevent page from reloading const text = this.querySelector(&#x27;[name=&quot;item&quot;]&#x27;).value; const item = &#123; text, //text: text done: false &#125; items.push(item); this.reset(); //form element clear the input&#125;addItems.addEventListener(&#x27;submit&#x27;,addItem); populateList():ç”¨ä¾†å°‡itemsè£¡æ‰€æœ‰çš„itemé€ä¸€è½‰æ›æˆ HTML çš„æ ¼å¼ï¼Œè—‰æ­¤æ›´æ–° menu ä¸Šçš„é …ç›®ã€‚ é€émap()å°‡é™£åˆ—ä¸­çš„item(æ–¹æ³•è£¡ç”¨plateä»£ç¨±)ï¼Œé€ä¸€ç”¨&lt;li&gt;~&lt;li&gt;çš„æ ¼å¼é‡æ–°çµ„åˆæˆä¸€å€‹æœ‰checkBoxå¯ä»¥å‹¾é¸çš„åˆ—è¡¨é …ç›®ã€‚ å› ç‚ºmap()å›å‚³çš„æ˜¯ä¸€å€‹é™£åˆ—ï¼Œæ‰€ä»¥åœ¨æœ€å¾Œç”¨join()å°‡é™£åˆ—ä¸­çš„å…ƒç´ ä»¥ç©ºç™½ä½œç‚ºé–“éš”ç¬¦è™Ÿä¸²è¯æˆä¸€å€‹ HTML æ ¼å¼çš„å­—ä¸²ä¸¦ä¿®æ”¹åˆ—è¡¨(ul)è£¡çš„é …ç›®å…§å®¹(innerHTML)ã€‚ 1234567891011//create the actual html here function populateList(plates = [], platesList)&#123; //plates default: empty, prvent to crash javascript if you forget to pass it platesList.innerHTML = plates.map((plate,i) =&gt;&#123; //i: index return ` &lt;li&gt; &lt;input type=&quot;checkbox&quot; data-index=$&#123;i&#125; id=&quot;item$&#123;i&#125;&quot; $&#123;plate.done ? &#x27;checked&#x27; : &#x27;&#x27;&#125;&gt; &lt;label for=&quot;item$&#123;i&#125;&quot;&gt;$&#123;plate.text&#125;&lt;/label&gt; &lt;/li&gt; `; &#125;).join(&#x27;&#x27;); &#125; JS çš„éƒ¨åˆ†å®Œæˆåˆ°é€™è£¡ï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥å°‡æ–°å»ºç«‹çš„é …ç›®æ”¾åˆ° menu ä¸­ã€‚ ä½†æ˜¯å°‡ç¶²é é‡æ–°æ•´ç†(F5)ï¼Œæˆ‘å€‘å¯ä»¥ç™¼ç¾åŸä¾†æ”¾åˆ° menu ä¸­çš„æ±è¥¿éƒ½ä¸è¦‹äº†ã€‚é‚£è¦æ€éº¼ä¿ç•™æˆ‘å€‘ä¹‹å‰åœ¨ menu æ”¾å…¥çš„é …ç›®å‘¢? ç›¸ä¿¡ localStorage å¯ä»¥å¹«æˆ‘å€‘é€™å€‹å¿™ã€‚ Window.localStoragelocalStorage å…è¨±æˆ‘å€‘å­˜å–ç›®å‰æ–‡ä»¶(Document)éš¸å±¬ç¶²åŸŸä¾†æºçš„Storage ç‰©ä»¶ï¼Œç°¡å–®ä¾†èªªæˆ‘å€‘å¯ä»¥ç”¨key-value(éµ-å€¼)çš„æ–¹å¼ä¾†å­˜å–é€™å€‹Storageç‰©ä»¶çš„è³‡æ–™ï¼ŒlocalStorageå­˜æ”¾çš„è³‡æ–™æ˜¯æ²’æœ‰æ™‚é–“é™åˆ¶çš„(ä¸æœƒé—œé–‰ç¶²é å°±ä¸è¦‹)ã€‚å¦å¤–ï¼Œé€™é‚Šçš„éµ-å€¼éƒ½æ˜¯ä»¥å­—ä¸²å‹æ…‹å­˜æ”¾ã€‚ å¯¦éš›åœ¨localStorageæ”¾è³‡æ–™(localStorage.setItem()): 1localStorage.setItem(&#x27;myCat&#x27;, &#x27;Tom&#x27;); æ‰“é–‹æª¢æŸ¥æ¨¡å¼ï¼ŒæŸ¥çœ‹æˆ‘å€‘æ”¾çš„è³‡æ–™(Application -&gt; Local Storage): è³‡æ–™çœŸçš„è¢«æ”¾åˆ° Local Storage è£¡é¢äº†ï¼Œæˆ‘å€‘ä¹‹å¾Œå°±å¯ä»¥ç”¨ Local Storage çš„æ–¹æ³•èª¿ç”¨é€™äº›å·²å­˜çš„è³‡æ–™ã€‚ ç”¨ localStorage å­˜å–è³‡æ–™items : æˆ‘å€‘åŸæœ¬å®£å‘Šå¸¸æ•¸itemsç‚ºä¸€å€‹ç©ºé™£åˆ—ï¼Œä½†æ˜¯æˆ‘å€‘ä¹Ÿå¯ä»¥æ”¹æˆå¦‚æœlocalStorageæœ‰è³‡æ–™(localStorage.getItem(&#39;items&#39;))å°±å°‡å…¶æ”¾å…¥itemsã€‚è¦æ³¨æ„localStorageæ”¾çš„è³‡æ–™æ˜¯å­—ä¸²å‹æ…‹ï¼Œæ‰€ä»¥é‚„è¦è—‰åŠ©JSON.parse()æŠŠå®ƒé‚„åŸæˆç‰©ä»¶å†å‚³éçµ¦itemsã€‚ addItem() : æ¯ä¸€æ¬¡åŠ å…¥æ–°çš„itemåˆ°itemsï¼Œæˆ‘å€‘éƒ½éœ€è¦åŒæ™‚æ›´æ–°ç¾åœ¨menuçš„é …ç›®å…§å®¹ï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨æ–¹æ³•è£¡é¢åŠ ä¸ŠpopulateList(items,itemsList);ã€‚ localStorage.setItem(&#39;items&#39;,JSON.stringify(items));ç”¨ä¾†æŠŠæˆ‘å€‘æ–°å¢çš„itemå­˜é€²localStorageä¿å­˜æ–°å¢åœ¨menuçš„é …ç›®ã€‚è¦æ³¨æ„itemsæœ¬èº«æ˜¯ç‰©ä»¶å‹åˆ¥(Object)ï¼Œæ‰€ä»¥è¦å…ˆç”¨JSON.stringify()å°‡å…¶è½‰æ›æˆå­—ä¸²å†å­˜å…¥localStorageã€‚ 12345678const items = JSON.parse(localStorage.getItem(&#x27;items&#x27;)) || []; // dump data from localstorage if existed function addItem(e)&#123; /*ä¸Šç•¥*/ populateList(items,itemsList); localStorage.setItem(&#x27;items&#x27;,JSON.stringify(items)); /*ä¸‹ç•¥...*/ &#125; åªè¦åšåˆ°é€™è£¡ï¼Œä¹‹å‰åŠ å…¥åˆ°menuçš„itemå°±ä¸æœƒåœ¨é‡æ–°æ•´ç†ç¶²é çš„æ™‚å€™æ¶ˆå¤±ä¸è¦‹ï¼Œæ¯æ¬¡éƒ½æœƒå¾localStorageå–å¾—ä¹‹å‰çš„è³‡æ–™(å¦‚æœæœ‰è³‡æ–™çš„è©±)ã€‚ ä½†é€™æ¨£å¥½åƒé‚„æ˜¯å°‘äº†ä»€éº¼ï¼Œå¦‚æœæˆ‘å€‘å°‡checkBoxå‹¾èµ·ä¾†å†å»é‡æ–°æ•´ç†ç¶²é ï¼Œå°±æœƒç™¼ç¾checkBoxåˆå›åˆ°æ²’å‹¾é¸çš„ç‹€æ…‹ã€‚è¦å„²å­˜checkBoxçš„å‹¾é¸ç‹€æ…‹ï¼Œæˆ‘å€‘å¯ä»¥ç”¨å¦ä¸€å€‹æ–¹æ³•toggleDone()ä¾†è™•ç†ã€‚ toggleDone() : Event.target æŒ‡å‘æœ€åˆè§¸ç™¼äº‹ä»¶çš„ DOM ç‰©ä»¶ã€‚ if(!e.target.matches(&#39;input&#39;)) return;ï¼Œå¦‚æœè§¸ç™¼äº‹ä»¶çš„ DOM ç‰©ä»¶ä¸æ˜¯input elementçš„è©±ï¼Œå°±åœæ­¢ç¹¼çºŒåŸ·è¡Œã€‚ å®£å‘Šå¸¸æ•¸elå­˜æ”¾è§¸ç™¼äº‹ä»¶çš„ DOM ç‰©ä»¶ã€‚å®£å‘Šå¸¸æ•¸indexå­˜æ”¾è§¸ç™¼äº‹ä»¶çš„ DOM ç‰©ä»¶çš„data-indexå±¬æ€§ã€‚ items[index].done = !items[index].done;ï¼Œè®“è§¸ç™¼äº‹ä»¶çš„ DOM ç‰©ä»¶çš„doneè®Šç‚ºç›¸åå€¼(true to falseï¼›false to true)ï¼Œå‰é¢æˆ‘å€‘åœ¨populateList()è£¡è¨­å®šitem (plate)çš„doneå±¬æ€§æ˜¯trueå°±å°‡checkBoxæ‰“å‹¾(checked)ã€‚($&#123;plate.done ? &#39;checked&#39; : &#39;&#39;&#125;) æœ€å¾Œæˆ‘å€‘éœ€è¦å°‡è®Šæ›´å¾Œçš„itemså†æ¬¡çš„æ”¾å…¥localStorageä¸­ï¼Œè¦æ³¨æ„å…ˆç”¨JSON.stringify()è½‰æ›æˆå­—ä¸²å†æ”¾å…¥ï¼Œæ¥è‘—ç”¨populateList()å»æ›´æ–°ç¾åœ¨menuçš„å…§å®¹å°±å®Œæˆäº†ã€‚ 12345678910function toggleDone(e)&#123; if(!e.target.matches(&#x27;input&#x27;)) return; const el = e.target; const index = el.dataset.index; items[index].done = !items[index].done; localStorage.setItem(&#x27;items&#x27;,JSON.stringify(items)); populateList(items,itemsList);&#125;itemsList.addEventListener(&#x27;click&#x27;,toggleDone); 1234567891011//create the actual html herefunction populateList(plates = [], platesList)&#123; //plates default: empty, prvent to crash javascript if you forget to pass it platesList.innerHTML = plates.map((plate,i) =&gt;&#123; //i: index return ` &lt;li&gt; &lt;input type=&quot;checkbox&quot; data-index=$&#123;i&#125; id=&quot;item$&#123;i&#125;&quot; $&#123;plate.done ? &#x27;checked&#x27; : &#x27;&#x27;&#125;&gt; &lt;label for=&quot;item$&#123;i&#125;&quot;&gt;$&#123;plate.text&#125;&lt;/label&gt; &lt;/li&gt; `; &#125;).join(&#x27;&#x27;);&#125; è£œå……è³‡æ–™:Array.prototype.map()Window.localStorageStorageEvent.targetEvent Delegation â€” äº‹ä»¶å§”æ´¾ä»‹ç´¹ èˆ‡ è§¸ç™¼å§”æ´¾çš„å›å‘¼å‡½æ•¸ ç¯„ä¾‹ç¶²é è«‹é»æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åå››å¤©","slug":"ironman2021D14","date":"2021-10-22T07:08:17.000Z","updated":"2021-10-22T07:15:35.408Z","comments":true,"path":"2021/10/22/ironman2021D14/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D14/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™ç­è§£ JavaScript çš„ Passed by Value å’Œ Passed by Reference ä»¥åŠ Object çš„ shallow copy å’Œ deep copyã€‚ è§£æç¨‹å¼ç¢¼JS éƒ¨åˆ†Passed by Valueåœ¨ JavaScript è£¡ï¼Œå¦‚æœè®Šæ•¸çš„è³‡æ–™å‹æ…‹å±¬æ–¼ Primitive(åŸç”Ÿå‹åˆ¥)ï¼Œå‰‡åœ¨å‚³éè®Šæ•¸æ™‚ï¼Œæ¡ç”¨çš„æ˜¯ Passed by Value (å‚³éå€¼)ã€‚ å¸¸è¦‹çš„ Primitive: String Number BigInt Boolean Symbol åœ¨ä¸‹é¢çš„å…©å€‹ä¾‹å­ï¼Œæˆ‘å€‘åˆ†åˆ¥å°‡ageã€nameå‚³éçµ¦age2ã€name2ï¼Œä¹‹å¾Œæ”¹è®Šage2ã€name2çš„æ•¸å€¼ã€‚çµæœåŸæœ¬çš„ageã€nameå‡ä¸æœƒå—åˆ°å½±éŸ¿ï¼Œå› ç‚ºåœ¨å‚³ééç¨‹æ˜¯ Passed by Valueï¼Œå°‡åŸæœ¬å­˜æ–¼ageã€nameçš„å€¼è¤‡è£½ä¸€ä»½çµ¦age2ã€name2ã€‚ 123456let age = 100;let age2 = age;console.log(age,age2);age = 200;console.log(age,age2); 123456let name = &#x27;Mes&#x27;;let name2 = name;console.log(name,name2);name = &#x27;wesley&#x27;;console.log(name,name2); ç°¡æ˜“æ¦‚å¿µåœ– Passed by Referenceåœ¨ JavaScript è£¡ï¼Œå¦‚æœè®Šæ•¸çš„è³‡æ–™å‹æ…‹å±¬æ–¼ Object(ç‰©ä»¶å‹åˆ¥)ï¼Œå‰‡åœ¨å‚³éè®Šæ•¸æ™‚ï¼Œæ¡ç”¨çš„æ˜¯ Passed by Reference (å‚³éä½å€)ã€‚ å¸¸è¦‹çš„ Object: Array Object ä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘å€‘å°‡é™£åˆ— players å‚³éçµ¦å¸¸æ•¸ teamï¼Œä¹‹å¾Œå°‡team[3](Poppy)æ”¹æˆLuxï¼Œå†æŠŠå…©å€‹é™£åˆ—éƒ½å°åˆ° consoleï¼Œæœƒç™¼ç¾åˆ°å…©å€‹é™£åˆ—çš„ç¬¬å››å€‹ä½ç½®éƒ½è¢«ä¿®æ”¹æˆæ–°çš„å€¼(Lux)ã€‚ é€™æ˜¯å› ç‚ºç‰©ä»¶åœ¨å‚³éçš„éç¨‹ä¸­æ¡å–çš„æ˜¯ Passed by Referenceï¼Œä¹Ÿå°±æ˜¯å°‡ç‰©ä»¶åœ¨è¨˜æ†¶é«”ä¸Šçš„ä½ç½®å‚³éçµ¦å¦ä¸€å€‹ç‰©ä»¶(å…©è€…å…±äº«åŒä¸€å€‹è¨˜æ†¶é«”ä½ç½®)ï¼Œæ‰€ä»¥åªè¦æ›´æ”¹å…¶ä¸­ä¸€æ–¹ï¼Œå¦ä¸€æ–¹ä¹Ÿæœƒå—åˆ°å½±éŸ¿ã€‚ 123456const players = [&#x27;Wes&#x27;,&#x27;Sarah&#x27;,&#x27;Ryan&#x27;,&#x27;Poppy&#x27;];const team = players;console.log(players,team); team[3] = &#x27;Lux&#x27;;console.log(players,team); å¦‚æœæƒ³ä¿®æ”¹é™£åˆ—çš„å€¼åˆä¸å½±éŸ¿å¦ä¸€å€‹é™£åˆ—çš„è©±ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨slice()ä¾†è¤‡è£½é™£åˆ—ä¸¦å›å‚³æ–°é™£åˆ—(æ“æœ‰è‡ªå·±çš„è¨˜æ†¶é«”ç©ºé–“)ã€‚ ä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘å€‘å‘¼å«players.slice()å°‡é™£åˆ—playerså®Œæ•´çš„è¤‡è£½ä¸€ä»½åˆ°æ–°é™£åˆ—ä¸­ä¸¦å‚³éçµ¦team2ï¼Œä¹‹å¾Œå†ä¿®æ”¹team2çš„ç¬¬å››å€‹ä½ç½®ï¼Œé€™æ¬¡æˆ‘å€‘ç™¼ç¾åˆ°åŸä¾†çš„é™£åˆ—playersä¸¦æ²’æœ‰è¢«ä¿®æ”¹åˆ°ã€‚ æ³¨æ„:slice()é€²è¡Œçš„æ˜¯shallow copy(æ·ºè¤‡è£½)!!! 1234const team2 = players.slice()team2[3] = &#x27;Lux&#x27;;console.log(players,team2) å…¶ä»–ä¿®æ”¹é™£åˆ—çš„å€¼åˆä¸å½±éŸ¿å¦ä¸€å€‹é™£åˆ—çš„æ–¹æ³•æœ‰: concat() : å°‡å¤šå€‹é™£åˆ—é€²è¡Œä¸²è¯å’Œslice()ä¸€æ¨£æœƒå›å‚³ä¸²è¯å¾Œçš„æ–°é™£åˆ—ã€‚ Spread : å°‡é™£åˆ—ä¸­çš„å…ƒç´ å±•é–‹ä¸¦é€å€‹æ”¾åˆ°æ–°é™£åˆ—ä¸­ã€‚ Array.from() : å»ºç«‹ä¸€å€‹æ–°çš„ Array å¯¦é«”ã€‚ 123456const team3 = [].concat(players);//use the new ES6 Spreadconst team4 = [...players];const team5 = Array.from(players); å¦ä¸€å€‹ä¾‹å­ï¼Œæˆ‘å€‘å®£å‘Šç‰©ä»¶personä¸¦æŠŠå®ƒå‚³éçµ¦captainï¼Œåœ¨captainä¸Šæ–°å¢number: 90å¾Œå°‡å…©å€‹ç‰©ä»¶éƒ½å°åˆ° consleï¼Œæ­¤æ™‚æœƒç™¼ç¾åœ¨captainæ–°å¢çš„number: 90ï¼Œä¹Ÿæœƒè¢«åŠ åˆ°personä¸Šã€‚æœƒé€™æ¨£æ˜¯å› ç‚ºç‰©ä»¶åœ¨å‚³ééç¨‹æ˜¯ Passed by Referenceï¼Œå…©ç‰©ä»¶åŒæ™‚æŒ‡å‘ä¸€å€‹è¨˜æ†¶é«”ç©ºé–“ã€‚ 123456789const person = &#123; name: &#x27;Wes Bos&#x27;, age: 80&#125;;const captain = person;captain.number = 99;console.log(person,captain); å¦‚æœä¸æƒ³ä¿®æ”¹åˆ°å¦ä¸€å€‹ç‰©ä»¶çš„è©±ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨Object.assign(target, ...sources)ä¾†è¤‡è£½ä¸€å€‹æˆ–å¤šå€‹ç‰©ä»¶çš„å±¬æ€§åˆ°å¦ä¸€å€‹ç›®æ¨™ç‰©ä»¶ï¼Œæœ€å¾Œå›å‚³ç›®æ¨™ç‰©ä»¶ã€‚ ä¸‹é¢æˆ‘å€‘åˆ©ç”¨Object.assign(&#123;&#125;,person,&#123;number: 99,age:12&#125;);ï¼Œå°‡ç‰©ä»¶personå’Œ&#123;number:99,age:12&#125;çš„å±¬æ€§è¤‡è£½åˆ°ç›®æ¨™ç‰©ä»¶({ })ã€‚ å¦‚æœè¤‡è£½çš„å¤šå€‹ç‰©ä»¶çš„å±¬æ€§æœ‰é‡è¤‡ï¼Œä»¥å¾Œé¢ç‰©ä»¶çš„å±¬æ€§ç‚ºæº–é€²è¡Œåˆä½µã€‚èˆ‰ä¾‹ä¾†èªªageæ˜¯é‡è¤‡å‡ºç¾çš„å±¬æ€§ï¼Œæœ€å¾Œè¤‡è£½å±¬æ€§å€¼æ™‚ï¼Œè¦ä»¥å¾Œé¢å‡ºç¾çš„age:12ç‚ºæº–åˆä½µç‰©ä»¶ã€‚ æ³¨æ„ : Object.assign()åšçš„æ˜¯ shallow copy(æ·ºè¤‡è£½)ï¼Œå¦‚æœè¦è¤‡è£½çš„ç‰©ä»¶å±¬æ€§åŒ…å«å­ç‰©ä»¶ï¼Œå°±æœƒè¤‡è£½åˆ°å­ç‰©ä»¶çš„åƒç…§(reference)!!!ã€‚ 1234567const person = &#123; name: &#x27;Wes Bos&#x27;, age: 80&#125;;const cap2 = Object.assign(&#123;&#125;,person,&#123;number: 99,age:12&#125;);console.log(person,cap2); åŸä¾†çš„personä¸¦æ²’æœ‰è¢«æ”¹å‹•åˆ°ã€‚ ç°¡å–®æ¦‚å¿µåœ– Shallow Copy &amp; Deep Copyå‰é¢æˆ‘å€‘æœ‰æåˆ°ï¼ŒObject.assign()åšçš„æ˜¯ shallow copy(æ·ºè¤‡è£½)ï¼Œè‹¥è¦è¤‡è£½çš„ç‰©ä»¶å±¬æ€§åŒ…å«å­ç‰©ä»¶ï¼Œå°±æœƒè¤‡è£½åˆ°å­ç‰©ä»¶çš„åƒç…§ã€‚ æ‰€ä»¥åªè¦å»æ”¹å‹•æ–°ç‰©ä»¶çš„å­ç‰©ä»¶å±¬æ€§å€¼ï¼Œå°±æœƒé€£å¸¶å½±éŸ¿åŸæœ¬è¤‡è£½çš„ç‰©ä»¶å­å±¬æ€§å€¼ã€‚ ä¸‹é¢æˆ‘å€‘ç”¨Object.assign()è¤‡è£½ä¾†æºç‰©ä»¶(wes)çš„å±¬æ€§åˆ°ç›®æ¨™ç‰©ä»¶({})ï¼Œå†å°‡ç›®æ¨™ç‰©ä»¶å‚³éçµ¦devç‰©ä»¶ï¼Œè¦ç•™æ„wesçš„å±¬æ€§åŒ…å«å­ç‰©ä»¶å±¬æ€§(social)ã€‚ ä¾‹å­ä¸­æˆ‘å€‘ä¿®æ”¹è¤‡è£½ä¾†çš„ç‰©ä»¶å±¬æ€§(name)å’Œå­ç‰©ä»¶å±¬æ€§(social.twitter)ï¼Œä¹‹å¾ŒæŠŠwesã€devç‰©ä»¶å°åˆ° console æœƒç™¼ç¾è¤‡è£½çš„ä¾†æºç‰©ä»¶wesçš„å±¬æ€§(name)ä¸å—å½±éŸ¿ï¼Œä½†wesçš„å­ç‰©ä»¶å±¬æ€§(social.twitter)å»è¢«å½±éŸ¿ã€‚ 12345678910111213141516const wes = &#123; name: &#x27;Wes&#x27;, age: 100, social: &#123; twitter: &#x27;@wesbos&#x27;, facebook: &#x27;wesbos.developer&#x27; &#125;&#125;//shallow copyconst dev = Object.assign(&#123;&#125;,wes);dev.name = &#x27;Wesley&#x27;;console.log(wes,dev);dev.social.twitter = &#x27;@coolman&#x27;;console.log(wes.social,dev.social); å¦‚æœä¸æƒ³æ”¹å‹•è¤‡è£½ä¾†æºç‰©ä»¶çš„å­å±¬æ€§å€¼(social.twitter)ï¼Œæˆ‘å€‘å¯ä»¥å°‡è¦è¤‡è£½çš„ç‰©ä»¶ç”¨JSON.stringify()å…ˆè½‰æ›æˆ JSON String(å› ç‚ºæ˜¯Primitiveï¼Œæ‰€ä»¥æ˜¯ Passed by Value)ï¼Œå†ç”¨JSON.parse()æŠŠå®ƒé‚„åŸæˆç‰©ä»¶å†å›å‚³çµ¦dev2ã€‚ ä¸‹é¢æˆ‘å€‘ä¸€æ¨£ä¿®æ”¹å­ç‰©ä»¶çš„å±¬æ€§å€¼ï¼Œä½†é€™æ¬¡çš„åŸç‰©ä»¶å­å±¬æ€§å€¼ä¸¦æ²’æœ‰å—åˆ°å½±éŸ¿ã€‚ 12345678910111213const wes = &#123; name: &#x27;Wes&#x27;, age: 100, social: &#123; twitter: &#x27;@wesbos&#x27;, facebook: &#x27;wesbos.developer&#x27; &#125;&#125;// deep copyconst dev2 = JSON.parse(JSON.stringify(wes));//å…ˆè½‰æˆstringå†æ›å›objectdev2.social.twitter = &#x27;@coolman&#x27;;console.log(wes.social,dev2.social); è£œå……è³‡æ–™:JavaScript: var, let, const å·®ç•°Array.prototype.concat()Spread syntax (â€¦)Array.from()Object.assign()JSON.stringify()JSON.parse()","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åä¸‰å¤©","slug":"ironman2021D13","date":"2021-10-22T06:53:12.000Z","updated":"2021-10-22T07:00:08.624Z","comments":true,"path":"2021/10/22/ironman2021D13/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D13/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™ç•¶æ²å‹•æ²è»¸åˆ°ä¸€å®šä½ç½®ï¼ŒåŸæœ¬éš±è—çš„åœ–ç‰‡æœƒç”±å³æˆ–å·¦æ–¹æ»‘å…¥åŸæœ¬çš„ç©ºç™½æ ¼é¡¯ç¾å‡ºä¾†ï¼›ç•¶æ²è»¸æ²å‹•é‡è¶…éåœ–ç‰‡çš„åº•éƒ¨ï¼Œåœ–ç‰‡å°±æœƒå‘å·¦æˆ–å³æ–¹æ»‘å‡ºä¸¦é‡æ–°çš„è¢«éš±è—ã€‚ è§£æç¨‹å¼ç¢¼æœ¬æ¬¡çš„çµæ§‹ç”±&lt;p&gt;æ¨™ç±¤çš„å‡æ–‡å’Œç©¿æ’å…¶ä¸­å‘å·¦æˆ–å‘å³å°é½Šçš„&lt;img&gt;æ¨™ç±¤çš„åœ–ç‰‡æ‰€çµ„æˆã€‚åœ¨ CSS è£¡ï¼Œæˆ‘å€‘é€éfloat:right;å’Œfloat:left;åˆ»æ„å»ç”¢ç”Ÿæ–‡ç¹åœ–æ•ˆæœä¸¦è®“åœ–ç‰‡çš„é€æ˜åº¦ç‚º0ï¼Œå› æ­¤å‡ºç¾ä¸€å€‹å€‹ç©ºæ ¼ï¼Œä½†é€™äº›ç©ºæ ¼ä¸€é–‹å§‹ä¸¦ä¸æ˜¯å››å››æ–¹æ–¹çš„ï¼Œæ‰€ä»¥æˆ‘å€‘åˆè¨­å®štext-align:justify;ï¼Œè®“æ–‡å­—å‘å…©å´å°é½Šï¼Œä¹Ÿè®“åœ–ç‰‡ç•™ä¸‹çš„ç©ºæ ¼è®Šæˆå®Œç¾çš„æ–¹å½¢ã€‚ HTML éƒ¨åˆ†1234567891011121314151617181920212223242526272829303132&lt;div class=&quot;site-wrap&quot;&gt; &lt;h1&gt;Slide in on Scroll&lt;/h1&gt; &lt;p&gt;Consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariaturlores sunt esse magni, ut, dignissimos.&lt;/p&gt; &lt;p&gt;Lorem ipsum cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.&lt;/p&gt; &lt;p&gt;Adipisicing elit. Tempore tempora rerum..&lt;/p&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.&lt;/p&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.&lt;/p&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.&lt;/p&gt; &lt;img src=&quot;http://unsplash.it/400/400&quot; class=&quot;align-left slide-in&quot;&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates, deserunt facilis et iste corrupti omnis tenetur est. Iste ut est dicta dolor itaque adipisci, dolorum minima, veritatis earum provident error molestias. Ratione magni illo sint vel velit ut excepturi consectetur suscipit, earum modi accusamus voluptatem nostrum, praesentium numquam, reiciendis voluptas sit id quisquam. Consequatur in quis reprehenderit modi perspiciatis necessitatibus saepe, quidem, suscipit iure natus dignissimos ipsam, eligendi deleniti accusantium, rerum quibusdam fugit perferendis et optio recusandae sed ratione. Culpa, dolorum reprehenderit harum ab voluptas fuga, nisi eligendi natus maiores illum quas quos et aperiam aut doloremque optio maxime fugiat doloribus. Eum dolorum expedita quam, nesciunt&lt;/p&gt; &lt;img src=&quot;http://unsplash.it/400/401&quot; class=&quot;align-right slide-in&quot;&gt; &lt;p&gt; at provident praesentium atque quas rerum optio dignissimos repudiandae ullam illum quibusdam. Vel ad error quibusdam, illo ex totam placeat. Quos excepturi fuga, molestiae ea quisquam minus, ratione dicta consectetur officia omnis, doloribus voluptatibus? Veniam ipsum veritatis architecto, provident quas consequatur doloremque quam quidem earum expedita, ad delectus voluptatum, omnis praesentium nostrum qui aspernatur ea eaque adipisci et cumque ab? Ea voluptatum dolore itaque odio. Eius minima distinctio harum, officia ab nihil exercitationem. Tempora rem nemo nam temporibus molestias facilis minus ipsam quam doloribus consequatur debitis nesciunt tempore officiis aperiam quisquam, molestiae voluptates cum, fuga culpa. Distinctio accusamus quibusdam, tempore perspiciatis dolorum optio facere consequatur quidem ullam beatae architecto, ipsam sequi officiis dignissimos amet impedit natus necessitatibus tenetur repellendus dolor rem! Dicta dolorem, iure, facilis illo ex nihil ipsa amet officia, optio temporibus eum autem odit repellendus nisi. Possimus modi, corrupti error debitis doloribus dicta libero earum, sequi porro ut excepturi nostrum ea voluptatem nihil culpa? Ullam expedita eligendi obcaecati reiciendis velit provident omnis quas qui in corrupti est dolore facere ad hic, animi soluta assumenda consequuntur reprehenderit! Voluptate dolor nihil veniam laborum voluptas nisi pariatur sed optio accusantium quam consectetur, corrupti, sequi et consequuntur, excepturi doloremque. Tempore quis velit corporis neque fugit non sequi eaque rem hic. Facere, inventore, aspernatur. Accusantium modi atque, asperiores qui nobis soluta cumque suscipit excepturi possimus doloremque odit saepe perferendis temporibus molestiae nostrum voluptatum quis id sint quidem nesciunt culpa. Rerum labore dolor beatae blanditiis praesentium explicabo velit optio esse aperiam similique, voluptatem cum, maiores ipsa tempore. Reiciendis sed culpa atque inventore, nam ullam enim expedita consectetur id velit iusto alias vitae explicabo nemo neque odio reprehenderit soluta sint eaque. Aperiam, qui ut tenetur, voluptate doloremque officiis dicta quaerat voluptatem rerum natus magni. Eum amet autem dolor ullam.&lt;/p&gt; &lt;img src=&quot;http://unsplash.it/200/500&quot; class=&quot;align-left slide-in&quot;&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet &lt;img src=&quot;http://unsplash.it/200/200&quot; class=&quot;align-right slide-in&quot;&gt; temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis&lt;/p&gt; &lt;p&gt;laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.&lt;/p&gt; &lt;img src=&quot;http://unsplash.it/400/400&quot; class=&quot;align-right slide-in&quot;&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.&lt;/p&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.&lt;/p&gt;&lt;/div&gt; JS éƒ¨åˆ†æˆ‘å€‘çš„ç›®çš„æ˜¯è®“åœ–ç‰‡éš¨è‘—æ²è»¸ä¸‹æ»‘ä¸€å€‹å€‹çš„å¾å·¦æˆ–å³æ»‘é€²ä¾†ï¼Œç‚ºäº†é”æˆé€™å€‹ç›®çš„ï¼Œæˆ‘å€‘æœƒåœ¨è¦–çª—(window)ä¸Šè¨»å†Šscroll äº‹ä»¶çš„ç›£è½å™¨ã€‚ å¦‚æœå°‡æ¯æ¬¡è§¸ç™¼çš„scroll äº‹ä»¶ç”¨console.count(e)è¨ˆç®—ä¸¦å°å‡ºåˆ°consoleä¸Šï¼Œä½ æœƒç™¼ç¾åªæ˜¯ç¨å¾®çš„æ»‘å‹•æ»¾è¼ªå°±è§¸ç™¼æ•¸æ¬¡scroll äº‹ä»¶ã€‚è€Œå¤ªé »ç¹åœ°è§¸ç™¼äº‹ä»¶çš„è™•ç†å°ç€è¦½å™¨ä¾†èªªæ˜¯å¾ˆå¤§çš„è² æ“”ï¼Œä¹Ÿå› æ­¤æˆ‘å€‘å¿…é ˆå€ŸåŠ©debounce()ä¾†å¹«æˆ‘å€‘å»¶é²äº‹ä»¶çš„è™•ç†ï¼Œé è¨­æ˜¯å»¶é²20æ¯«ç§’ã€‚ 1234567891011121314151617/*ç”¨ä¾†å»¶é²åŸ·è¡Œæ–¹æ³•*/function debounce(func, wait = 20, immediate = true) &#123; var timeout; return function() &#123; var context = this, args = arguments; var later = function() &#123; timeout = null; if (!immediate) func.apply(context, args); &#125;; var callNow = immediate &amp;&amp; !timeout; clearTimeout(timeout); timeout = setTimeout(later, wait); if (callNow) func.apply(context, args); &#125;;&#125;;window.addEventListener(&#x27;scroll&#x27;,e =&gt; console.count(e)); å®£å‘Šå¸¸æ•¸slideImagesæ”¾å…¥è¦æ»‘é€²ä¾†çš„åœ–ç‰‡å€‘ã€‚ 1const sliderImages = document.querySelectorAll(&#x27;.slide-in&#x27;); è§¸ç™¼scroll äº‹ä»¶æ™‚ï¼Œæˆ‘å€‘ä¸¦æ²’æœ‰åœ¨ç¬¬ä¸€æ™‚é–“è™•ç†å®ƒï¼Œè€Œæ˜¯åˆ©ç”¨debounce(checkSlide)è®“checkSlide()è¢«å»¶é²20æ¯«ç§’æ‰åŸ·è¡Œã€‚ åœ¨checkSlide()è£¡ï¼Œæˆ‘å€‘é¦–å…ˆå¿…é ˆæ±ºå®šåœ–ç‰‡è¦åœ¨å“ªæ™‚å€™æ»‘é€²ä¾†å’Œæ»‘å‡ºå»ã€‚åœ¨é€™æ¬¡çš„èª²ç¨‹è£¡ï¼Œæˆ‘å€‘æ±ºå®šè¦è®“2åˆ†ä¹‹1çš„åœ–ç‰‡å‡ºç¾åœ¨è¦–çª—ä¸‹ç·£æ™‚ï¼Œè®“åœ–ç‰‡æ»‘é€²ä¾†ã€æ²è»¸ç§»å‹•è¶…éåœ–ç‰‡åº•ç«¯æ™‚ï¼Œè®“åœ–ç‰‡æ»‘å‡ºå»ã€‚ æˆ‘å€‘ä½¿ç”¨sliderImages.forEach()åˆ†åˆ¥è¨ˆç®—2åˆ†ä¹‹1åœ–ç‰‡å‡ºç¾åœ¨ä¸‹ç·£çš„è·é›¢(slideInAt)ä»¥åŠåœ–ç‰‡çš„åº•ç«¯è·é›¢è¦–çª—ä¸Šæ–¹çš„è·é›¢(imageBottom) window.scrollY(ç›®å‰çš„æ²è»¸æ²å‹•é‡) + window.innerHeight(è¦–çª—å…§éƒ¨é«˜åº¦) = è¦–çª—ä¸‹ç·£é›¢è¦–çª—é ‚éƒ¨çš„è·é›¢ã€‚å¦‚æœå°‡é€™æ®µè·é›¢å†æ¸›å»slideImage.height / 2(2åˆ†ä¹‹1çš„åœ–ç‰‡é«˜åº¦)ï¼Œå°±æœƒæ˜¯å¯¦éš›ä¸Šåœ–ç‰‡çš„æ»‘å…¥é»(slideInAt)ã€‚ slideImage.offsetTop(åœ–ç‰‡é ‚éƒ¨é›¢è¦–çª—é ‚éƒ¨çš„è·é›¢) + slideImage.height(åœ–ç‰‡çš„é«˜åº¦) = åœ–ç‰‡åº•éƒ¨é›¢è¦–çª—é ‚éƒ¨çš„è·é›¢(imageBottom)ã€‚ 12345678910function checkSlide(e)&#123; sliderImages.forEach(slideImage =&gt;&#123; /*å–å¾—è¦–çª—ä¸‹ç·£ä¸¦é ç•™2åˆ†ä¹‹1çš„åœ–ç‰‡é«˜åº¦*/ const slideInAt = (window.scrollY + window.innerHeight) - slideImage.height / 2; /*å–å¾—åœ–ç‰‡åº•éƒ¨é›¢è¦–çª—é ‚éƒ¨çš„è·é›¢*/ const imageBottom = slideImage.offsetTop + slideImage.height; &#125;);&#125;;window.addEventListener(&#x27;scroll&#x27;,debounce(checkSlide)); å®£å‘Šå¸¸æ•¸isHalfShownåˆ¤æ–·åœ–ç‰‡æ˜¯å¦å·²æœ‰2åˆ†ä¹‹1å‡ºç¾åœ¨è¦–çª—çš„ä¸‹ç·£ã€‚ å®£å‘Šå¸¸æ•¸isNotScrolledPaståˆ¤æ–·æ²è»¸çš„æ²å‹•é‡æ˜¯å¦å·²ç¶“è¶…éåœ–ç‰‡çš„åº•éƒ¨ã€‚ æœ€å¾Œï¼Œåˆ©ç”¨ if åˆ¤æ–·åœ–ç‰‡å·²ç¶“æœ‰2åˆ†ä¹‹1å‡ºç¾åœ¨è¦–çª—ä¸‹ç·£(isHalfShown = true)ä¸¦ä¸”æ²è»¸æ²å‹•é‡ä¸è¶…éåœ–ç‰‡åº•éƒ¨(isNotScrolledPast = true)å°±ç‚ºåœ–ç‰‡(slideImage)åŠ ä¸Š .activeé¸æ“‡å™¨ï¼Œè®“åœ–ç‰‡æ»‘å…¥ä¸¦é¡¯ç¤ºï¼›åä¹‹å‰‡æ‹¿æ‰.activeé¸æ“‡å™¨ï¼Œè®“åœ–ç‰‡æ»‘å‡ºä¸¦éš±è—ã€‚ 1234567891011121314function checkSlide(e)&#123; sliderImages.forEach(slideImage =&gt;&#123; /*ä¸Šç•¥*/ const isHalfShown = slideInAt &gt; slideImage.offsetTop; const isNotScrolledPast = window.scrollY &lt; imageBottom; if(isHalfShown &amp;&amp; isNotScrolledPast)&#123; slideImage.classList.add(&#x27;active&#x27;); &#125;else&#123; slideImage.classList.remove(&#x27;active&#x27;); &#125; &#125;);&#125;; åœ–ç‰‡åˆå§‹éƒ½å‘å·¦æˆ–å³ä½ç§»ä¸¦éš±è—ï¼Œ.activeé¸æ“‡å™¨ç”¨ä¾†å–æ¶ˆåœ–ç‰‡åŸæœ‰çš„ä½ç§»ï¼Œè®“åœ–ç‰‡å›åˆ°åŸå§‹çš„ä½ç½®(æ»‘é€²ä¾†)ã€‚ 12345678910111213/*CSS*/.align-left.slide-in &#123; transform: translateX(-30%) scale(0.95);&#125; .align-right.slide-in &#123; transform: translateX(30%) scale(0.95);&#125;.slide-in.active &#123; opacity: 1; transform: translateX(0%) scale(1);&#125; è£œå……è³‡æ–™:HTMLElement.offsetToptext-align ç¯„ä¾‹ç¶²é è«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åäºŒå¤©","slug":"ironman2021D12","date":"2021-10-22T06:53:06.000Z","updated":"2021-10-22T06:58:26.748Z","comments":true,"path":"2021/10/22/ironman2021D12/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D12/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™é å…ˆè¨­å®šä¸€çµ„secretCodeï¼Œå¦‚æœåœ¨è¦–çª—ç•«é¢å…§è¼¸å…¥çš„æ–‡å­—èˆ‡secretCodeç›¸åŒå‰‡åœ¨è¦–çª—ç•«é¢åŠ ä¸Šåœ–æ¡ˆã€‚ (ps.èƒŒæ™¯åœ–æ˜¯å¾Œä¾†æ”¹çš„ï¼ŒåŸç‰ˆæ˜¯ç©ºç™½ç•«é¢ã€‚) è§£æç¨‹å¼ç¢¼é€™æ¬¡æˆ‘å€‘éœ€è¦è—‰åŠ©ç¶²è·¯ä¸Šåˆ¥äººå¯«å¥½çš„ JavaScript APIï¼Œè®“ä»–å¹«å¿™åœ¨æ¯æ¬¡è¦–çª—ç•«é¢ä¸­è¼¸å…¥æ–‡å­—ç­‰æ–¼secretCodeæ™‚ï¼Œåœ¨è¦–çª—ç•«é¢ä¸Šæ–°å¢ä¸€å€‹ç”Ÿå‹•çš„åœ–æ¡ˆã€‚ è§€çœ‹å®Œæ•´çš„ JavaScript API å…§å®¹ 1&lt;script type=&quot;text/javascript&quot; src=&quot;https://www.cornify.com/js/cornify.js&quot;&gt;&lt;/script&gt; JS éƒ¨åˆ†å®£å‘Šå¸¸æ•¸ pressed ç‚ºä¸€å€‹ç©ºé™£åˆ—ï¼Œç”¨ä¾†å­˜æ”¾æˆ‘å€‘åœ¨è¦–çª—ç•«é¢æ‰€è¼¸å…¥çš„å€¼ã€‚ å®£å‘Šå¸¸æ•¸secretCodeä½œç‚ºé è¨­çš„æ–‡å­—å¯†ç¢¼ã€‚ 12const pressed = [];const secretCode = &#x27;saber&#x27;; æˆ‘å€‘æ›¿æ•´å€‹è¦–çª—è¨»å†Škeyup äº‹ä»¶(æ”¾é–‹æŒ‰éµæ™‚è§¸ç™¼)çš„ç›£è½å™¨ï¼Œè—‰ç”±console.log(e.key);å¯ä»¥åœ¨consoleçœ‹åˆ°æˆ‘å€‘æŒ‰ä¸‹çš„æ˜¯å“ªä¸€å€‹æŒ‰éµï¼Œç·Šæ¥è‘—æˆ‘å€‘å°‡æŒ‰ä¸‹çš„é‚£å€‹æŒ‰éµ(key)æ”¾å…¥é™£åˆ—pressedçš„æœ«ç«¯ã€‚ ç‚ºäº†æ¯”å°è¼¸å…¥æ–‡å­—æ˜¯å¦ç­‰æ–¼secretCodeï¼Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨splice(start,deleteCount)ä¾†è®“é™£åˆ—çš„é•·åº¦è·ŸsecretCodeä¿æŒä¸€æ¨£ï¼Œæ²’åšé€™å€‹è™•ç†çš„è©±ï¼Œæˆ‘å€‘æœƒç™¼ç¾é™£åˆ—ä¸­çš„å…ƒç´ æ„ˆä¾†æ„ˆå¤šã€é•·åº¦æ„ˆä¾†æ„ˆé•·ï¼Œæ°¸é æ²’æœ‰å’ŒsecretCodeç›¸åŒçš„å¯èƒ½ã€‚ splice(start,deleteCount)å¯ä»¥åˆªé™¤é™£åˆ—è‡ªstartç´¢å¼•é–‹å§‹çš„deleteCountå€‹å…ƒç´ ï¼Œè¦æ³¨æ„çš„æ˜¯deleteCountè¦å¤§æ–¼0æ‰æœƒé–‹å§‹åˆªå»å…ƒç´ ï¼Œç¯„ä¾‹ä¸­çš„secretCodeé•·åº¦æ˜¯5ï¼Œä¹Ÿå°±æ˜¯èªªåªæœ‰è¼¸å…¥åˆ°ç¬¬6æ¬¡æ‰æœƒé–‹å§‹åˆªå»å…ƒç´ ã€‚ æœ‰è¶£çš„æ˜¯æˆ‘å€‘å°‡deleteCountæŒ‡å®šç‚ºpressed.length - secretCodeå‰‡æ•ˆæœå’Œç›´æ¥æŒ‡å®šç‚º1ç›¸åŒã€‚åªè¦pressedçš„é•·åº¦åˆ°é”6ï¼Œç¶“éè¨ˆç®—å¾ŒdeleteCountæ˜¯1ï¼Œåˆªå»ä¸€å€‹å…ƒç´ å¾Œï¼Œpressedé•·åº¦åˆè®Šç‚º5ï¼Œç”±æ­¤å‘¨è€Œå¾©å§‹(5-&gt;6ï¼›6-&gt;5)ã€‚ æŒ‡å®šstart = -secretCode.length - 1çš„æ•ˆæœæ˜¯è®“æˆ‘å€‘å¾æœ€æ—©è¢« push é€²é™£åˆ—(æœ€å‰ç«¯)çš„å…ƒç´ é–‹å§‹åˆªé™¤ã€‚ 12345window.addEventListener(&#x27;keyup&#x27;,(e)=&gt;&#123; console.log(e.key); pressed.push(e.key); pressed.splice(-secretCode.length - 1,pressed.length - secretCode.length);&#125;); æœ€å¾Œï¼Œæˆ‘å€‘åˆ©ç”¨ if åˆ¤æ–·ç”¨pressed.join(&#39;&#39;)ä¸²è¯å‡ºçš„å­—ä¸²æ˜¯å¦æœ‰åŒ…å«secretCodeï¼Œå¦‚æœæœ‰åŒ…å«å°±åœ¨consoleå°å‡ºDING DING!ä¸¦å‘¼å« API ä¸­çš„cornify_add()åœ¨è¦–çª—ç•«é¢è£¡åŠ ä¸Šåœ–ç‰‡ã€‚æˆ‘å€‘ä¹Ÿå¯ä»¥å†è£œä¸Šconsole.log(pressed);ï¼ŒæŸ¥çœ‹ç›®å‰pressedé™£åˆ—å…§çš„å…ƒç´ ã€‚ 12345678910window.addEventListener(&#x27;keyup&#x27;,(e)=&gt;&#123; /***çœç•¥***/ /***çœç•¥***/ if(pressed.join(&#x27;&#x27;).includes(secretCode))&#123; console.log(&#x27;DING DING!&#x27;); cornify_add(); &#125; console.log(pressed);&#125;); è£œå……è³‡æ–™:keyupäº‹ä»¶Array.prototype.splice() ç¯„ä¾‹ç¶²é è«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åä¸€å¤©","slug":"ironman2021D11","date":"2021-10-22T06:53:01.000Z","updated":"2021-10-22T06:56:22.313Z","comments":true,"path":"2021/10/22/ironman2021D11/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D11/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™éˆæ´»é‹ç”¨ video å…ƒç´ çš„ç›¸é—œå±¬æ€§ã€æ–¹æ³•ï¼Œå¯¦ä½œå‡ºä¸€å€‹æ“æœ‰å¿«é€²å¿«é€€ã€æ’­æ”¾é€Ÿåº¦å€ç‡ã€æ§åˆ¶éŸ³é‡å¤§å°ã€æ‹–æ‹‰æ™‚é–“è»¸åŠŸèƒ½çš„ç°¡æ˜“å½±ç‰‡æ’­æ”¾å™¨ã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†.player ä»£è¡¨æ•´å€‹å½±ç‰‡æ’­æ”¾å™¨ï¼ŒåŒ…å«å½±ç‰‡(.player__video)ã€æ’­æ”¾æ§åˆ¶åˆ—(.player__controls)å…©éƒ¨åˆ†ã€‚ æ’­æ”¾æ§åˆ¶åˆ—å…§éƒ¨åˆå¯ç´°åˆ†ç‚ºå››å€‹éƒ¨åˆ†: 1. å½±ç‰‡æ’­æ”¾çš„æ™‚é–“è»¸ : .progressã€.progress__filled2. æ’­æ”¾/æš«åœéˆ• : .toggle3. éŸ³é‡/æ’­æ”¾é€Ÿåº¦å€ç‡ : .player__slider4. å¿«é€²/å¿«é€€ : .player__button1234567891011121314&lt;div class=&quot;player&quot;&gt; &lt;video class=&quot;player__video viewer&quot; src=&quot;652333414.mp4&quot;&gt;&lt;/video&gt; &lt;div class=&quot;player__controls&quot;&gt; &lt;div class=&quot;progress&quot;&gt; &lt;div class=&quot;progress__filled&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;button class=&quot;player__button toggle&quot; title=&quot;Toggle Play&quot;&gt;â–º&lt;/button&gt; &lt;input type=&quot;range&quot; name=&quot;volume&quot; class=&quot;player__slider&quot; min=&quot;0&quot; max=&quot;1&quot; step=&quot;0.05&quot; value=&quot;1&quot;&gt; &lt;input type=&quot;range&quot; name=&quot;playbackRate&quot; class=&quot;player__slider&quot; min=&quot;0.5&quot; max=&quot;2&quot; step=&quot;0.1&quot; value=&quot;1&quot;&gt; &lt;button data-skip=&quot;-10&quot; class=&quot;player__button&quot;&gt;Â« 10s&lt;/button&gt; &lt;button data-skip=&quot;25&quot; class=&quot;player__button&quot;&gt;25s Â»&lt;/button&gt; &lt;/div&gt;&lt;/div&gt; JS éƒ¨åˆ†é¦–å…ˆï¼Œå–å¾—æ‰€æœ‰è¦ç”¨åˆ° HTML æ¨™ç±¤ä¸¦æ”¾åˆ°å°æ‡‰å®£å‘Šçš„å¸¸æ•¸ä¸­ã€‚ 12345678910/*get element we need*/const player = document.querySelector(&#x27;.player&#x27;);const video = player.querySelector(&#x27;.viewer&#x27;);const progress = player.querySelector(&#x27;.progress&#x27;);const progressBar = player.querySelector(&#x27;.progress__filled&#x27;);const toggle = player.querySelector(&#x27;.toggle&#x27;);const skipButtons = player.querySelectorAll(&#x27;[data-skip]&#x27;);const ranges = player.querySelectorAll(&#x27;.player__slider&#x27;); ä¸‹é¢æˆ‘å€‘å°‡å„å€‹æ’­æ”¾å™¨çš„åŠŸèƒ½ä¸€å€‹å€‹æ‹†å‡ºä¾†åš : 1. å½±ç‰‡çš„æ’­æ”¾/æš«åœåŠŸèƒ½ç›®çš„ : æˆ‘å€‘å¸Œæœ›åœ¨é»æ“Šå½±ç‰‡æˆ–æ’­æ”¾/æš«åœéˆ•æ™‚ï¼Œæ’­æ”¾æˆ–æš«åœå½±ç‰‡ã€‚ åœ¨video(å½±ç‰‡)ã€toggle(æ’­æ”¾/æš«åœéˆ•)ä¸Šéƒ½è¨»å†Šclick äº‹ä»¶ç›£è½å™¨ï¼Œè§¸ç™¼äº‹ä»¶å¾Œç”¨togglePlay()é€²è¡Œè™•ç†ã€‚ åœ¨togglePlay()è£¡ï¼Œæˆ‘å€‘å®£å‘Šä¸€å€‹å¸¸æ•¸methodï¼Œç¶“éæ¢ä»¶åˆ¤æ–·ï¼Œç•¶video.pausedå›å‚³ true å‰‡ method = playï¼›ç•¶video.pausedå›å‚³ false å‰‡method = pauseã€‚ é€™é‚Šæœ‰ä¸€å€‹ç‰¹æ®Šçš„å¯«æ³•video[method]();ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œç•¶method = playå‰‡å¯¦éš›æ•ˆæœç›¸ç•¶æ–¼video.play();ã€‚ 12345678function togglePlay()&#123; const method = video.paused ? &#x27;play&#x27; : &#x27;pause&#x27;; video[method]();&#125;/*æ§åˆ¶å½±ç‰‡çš„æ’­æ”¾*/video.addEventListener(&#x27;click&#x27;,togglePlay);toggle.addEventListener(&#x27;click&#x27;,togglePlay); 2. æ›´æ–°æ’­æ”¾/æš«åœåœ–ç¤ºåŠŸèƒ½ç›®çš„ : æˆ‘å€‘å¸Œæœ›åœ¨å½±ç‰‡æ’­æ”¾/æš«åœçš„ç‹€æ…‹ä¸‹ï¼ŒåŒæ­¥æ›´æ–°åœ–ç¤ºã€‚ åœ¨video(å½±ç‰‡)ä¸Šè¨»å†Šplay äº‹ä»¶å’Œpause äº‹ä»¶å…©å€‹ç›£è½å™¨ä¸¦éƒ½ä»¥updateButton()é€²è¡Œäº‹ä»¶è™•ç†ã€‚ åœ¨updateButton()è£¡ï¼Œæˆ‘å€‘å®£å‘Šä¸€å€‹å¸¸æ•¸iconæŒ‡å®šç•¶å½±ç‰‡è™•æ–¼æš«åœç‹€æ…‹å‰‡icon = &#39;â–º&#39;ï¼Œæ¥è‘—åˆ©ç”¨toggle.textContent = iconä¿®æ”¹æŒ‰éˆ•çš„åœ–ç¤ºï¼Œç•¶å½±ç‰‡è™•æ–¼æ’­æ”¾ç‹€æ…‹çš„è™•ç†ä¹Ÿæ˜¯ç”¨ä¸€æ¨£çš„æ–¹å¼ã€‚ 12345678function updateButton()&#123; const icon = this.paused ? &#x27;â–º&#x27; : &#x27;âš âš&#x27;; toggle.textContent = icon;&#125;/*è®“æ’­æ”¾éµçš„åœ–ç¤ºæ”¹è®Š*/video.addEventListener(&#x27;play&#x27;,updateButton);video.addEventListener(&#x27;pause&#x27;,updateButton); 3. å½±ç‰‡çš„å¿«é€²/å¿«é€€åŠŸèƒ½ç›®çš„ : æˆ‘å€‘å¸Œæœ›åœ¨é»æ“Šå¿«é€²/å¿«é€€æŒ‰éˆ•æ™‚ï¼ŒåŒæ­¥èª¿æ•´å½±ç‰‡çš„æ™‚é–“è»¸ã€‚ åœ¨skipButtons(å¿«é€²ã€å¿«é€€æŒ‰éˆ•)è£¡çš„æ‰€æœ‰buttonéƒ½è¨»å†Šclick äº‹ä»¶ä¸¦ä»¥skip()é€²è¡Œäº‹ä»¶è™•ç†ã€‚ åœ¨skip()è£¡ï¼Œæˆ‘å€‘å°‡video.currentTime(å½±ç‰‡ç¾åœ¨æ’­æ”¾çš„æ™‚é–“é»)åŠ ä¸Šæˆ‘å€‘è¦å¿«é€²æˆ–å¿«é€€çš„ç§’æ•¸ã€‚ ç”±æ–¼video.currentTimeæœ¬èº«æ˜¯ float å‹åˆ¥ï¼Œå› æ­¤éœ€è¦å°‡this.dataset.skip(å¿«é€²/å¿«é€€çš„ç§’æ•¸)ç”¨parseFloat()è½‰æ›æˆfloatå‹åˆ¥ä¹‹å¾Œå†é€²è¡Œé‹ç®—ã€‚ 123456function skip()&#123; video.currentTime += parseFloat(this.dataset.skip);&#125;/*èª¿æ•´å½±ç‰‡çš„å¿«é€²å’Œå€’é€€*/skipButtons.forEach(button =&gt; button.addEventListener(&#x27;click&#x27;,skip)); 4. èª¿æ•´å½±ç‰‡çš„æ’­æ”¾é€Ÿåº¦(å€ç‡)ã€éŸ³é‡å¤§å°åŠŸèƒ½ç›®çš„ : æˆ‘å€‘å¸Œæœ›åœ¨æ»‘é¼ åœ¨å€ç‡æˆ–éŸ³é‡æ¢ä¸Šç§»å‹•æ”¹è®Šæ•¸å€¼æ™‚ï¼ŒåŒæ­¥åæ˜ åˆ°video(å½±ç‰‡)ä¸Šã€‚ åœ¨é€Ÿåº¦å€ç‡å’ŒéŸ³é‡æ¢ä¸Šéƒ½è¨»å†Šchange äº‹ä»¶å’Œmousemove äº‹ä»¶ï¼Œåˆ†åˆ¥åœ¨æ•¸å€¼æ”¹è®Šå’Œæ»‘é¼ æ‹–æ›³æ™‚è§¸ç™¼äº‹ä»¶ï¼Œä¹‹å¾Œç”¨handleRangeUpdate()é€²è¡Œäº‹ä»¶è™•ç†ã€‚ åœ¨handleRangeUpdate()è£¡ï¼Œæˆ‘å€‘ä½¿ç”¨å’Œä¹‹å‰ä¸€æ¨£çš„ç‰¹æ®Šèªæ³•video[this.name] = this.value;å°videoçš„å±¬æ€§å€¼é€²è¡Œèª¿æ•´ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœthis.name = volumeã€this.value = 0ï¼Œå‰‡video[this.name] = this.value;çš„æ•ˆæœå’Œvideo.volume = 0;ä¸€æ¨£ã€‚ 1234567function handleRangeUpdate()&#123; video[this.name] = this.value;&#125;/*èª¿æ•´å½±ç‰‡çš„æ’­æ”¾é€Ÿåº¦ã€éŸ³é‡*/ranges.forEach(range =&gt; range.addEventListener(&#x27;change&#x27;,handleRangeUpdate));ranges.forEach(range =&gt; range.addEventListener(&#x27;mousemove&#x27;,handleRangeUpdate)); 5. æ›´æ–°æ™‚é–“è»¸åŠŸèƒ½ç›®çš„ : æˆ‘å€‘å¸Œæœ›åœ¨å½±ç‰‡æ’­æ”¾çš„éç¨‹ä¸­ï¼Œä¸æ–·åœ°æ›´æ–°æ™‚é–“è»¸ã€‚ åœ¨video(å½±ç‰‡)ä¸Šè¨»å†Štimeupdate äº‹ä»¶çš„ç›£è½å™¨ï¼Œç•¶å½±ç‰‡çš„æ’­æ”¾æ™‚é–“(currentTime)æœ‰è®Šå‹•å°±è§¸ç™¼äº‹ä»¶ï¼Œä¹‹å¾Œç”¨handleProgress()é€²è¡Œäº‹ä»¶è™•ç†ã€‚ åœ¨handleProgress()è£¡ï¼Œæˆ‘å€‘å®£å‘Šå¸¸æ•¸percentä¸¦æ”¾å…¥video.currentTime(å½±ç‰‡ç¾åœ¨æ™‚é–“)é™¤ä»¥video.duration(å½±ç‰‡çš„ç¸½é•·åº¦)å†ä¹˜ä»¥100å¾—åˆ°çš„æ¯”ä¾‹å€¼ã€‚ æ¥è‘—ç”¨progressBar.style.flexBasis = `$&#123;percent&#125;%`;ï¼Œç”¨percentæŒ‡å®šæ™‚é–“è»¸çš„é•·åº¦ä½”æ¯”ã€‚ 1234567function handleProgress()&#123; const percent = (video.currentTime / video.duration) * 100 progressBar.style.flexBasis = `$&#123;percent&#125;%`; &#125;/*æŒçºŒæ›´æ–°æ™‚é–“è»¸*/video.addEventListener(&#x27;timeupdate&#x27;,handleProgress); 6. ç”¨æ‹–æ‹‰çš„æ–¹å¼ç§»å‹•æ™‚é–“è»¸åŠŸèƒ½ç›®çš„ : æˆ‘å€‘å¸Œæœ›æŒ‰ä½æ»‘é¼ æ‹–æˆ–é»æ“Šæ™‚é–“è»¸çš„åŒæ™‚ï¼Œæ›´æ–°video(å½±ç‰‡)ç¾åœ¨æ’­æ”¾çš„æ™‚é–“ã€‚ å®£å‘Šmousedownä½œç‚º flag åˆ¤æ–·ç¾åœ¨æ˜¯å¦æœ‰æŒ‰ä½æ»‘é¼ ã€‚ æˆ‘å€‘åœ¨progressè¨»å†Šclick äº‹ä»¶ã€mousemove äº‹ä»¶ã€mousedown äº‹ä»¶ã€mouseup äº‹ä»¶ç›£è½å™¨ã€‚ è§¸ç™¼click äº‹ä»¶æ™‚ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥å°±ä»¥scrub(e)é€²è¡Œäº‹ä»¶çš„è™•ç†ã€‚ ä½†åœ¨è§¸ç™¼mousemove äº‹ä»¶æ™‚ï¼Œæˆ‘å€‘éœ€è¦å…ˆåˆ¤æ–·æ˜¯å¦æœ‰æŒ‰ä½æ»‘é¼ ï¼Œæ‰€ä»¥è¦å€ŸåŠ©mousedown äº‹ä»¶å’Œmouseup äº‹ä»¶çš„å¹«å¿™ï¼Œåœ¨mousedown äº‹ä»¶è§¸ç™¼åœ°ç•¶ä¸‹å°‡ flag(mousedown) è¨­ç‚º trueï¼Œåä¹‹è§¸ç™¼mouseup äº‹ä»¶å‰‡å°‡ flag(mousedown) è¨­ç‚º falseã€‚æœ€å¾Œç”¨mousedown &amp;&amp; scrub(e)åˆ¤æ–·æ˜¯å¦åŸ·è¡Œscrub(e)ï¼Œåªæœ‰ç•¶flag(mousedown) æ˜¯ true çš„æ™‚å€™ï¼Œæ‰æ¥è‘—åŸ·è¡Œscrub(e)å®Œæˆäº‹ä»¶è™•ç†ã€‚ åœ¨scrub(e)è£¡ï¼Œæˆ‘å€‘å®£å‘Šå¸¸æ•¸scrubTimeæ”¾å…¥å°‡æ»‘é¼ åœ¨å…ƒç´ å…§éƒ¨çš„Xåº§æ¨™(e.offsetX)é™¤ä»¥æ™‚é–“è»¸çš„é•·åº¦(progress.offsetWidth)å†ä¹˜ä»¥å½±ç‰‡é•·åº¦(video.duration)æ‰€å¾—åˆ°è¦å‰å¾€çš„æ™‚é–“é»ã€‚æœ€å¾Œå°‡å½±ç‰‡ç¾åœ¨çš„æ™‚é–“(video.currentTime)æŒ‡å®šç‚ºè¦å‰å¾€çš„æ™‚é–“é»(scrubTime)ã€‚ 1234567891011function scrub(e)&#123; const scrubTime = (e.offsetX / progress.offsetWidth) * video.duration; video.currentTime = scrubTime;&#125;/*æ‹–æ‹‰æ™‚é–“è»¸*/let mousedown = false;progress.addEventListener(&#x27;click&#x27;,scrub);progress.addEventListener(&#x27;mousemove&#x27;,(e)=&gt; mousedown &amp;&amp; scrub(e));progress.addEventListener(&#x27;mousedown&#x27;,() =&gt; mousedown = true);progress.addEventListener(&#x27;mouseup&#x27;,() =&gt; mousedown = false); è£œå……èªªæ˜:HTMLVideoElementç¹¼æ‰¿è‡ªHTMLMediaElementæ‰€ä»¥ä¸€äº›videoå…ƒç´ çš„å±¬æ€§éƒ½å¯ä»¥åˆ°HTMLMediaElementæŸ¥è©¢ã€‚ ä½¿ç”¨HTMLElement.offsetWidthæ‰€å–å¾—çš„å…ƒç´ (element)å¯¬åº¦åŒ…æ‹¬é€é CSS è¨­å®šçš„widthã€borderã€paddingç­‰ç­‰â€¦ã€‚ è£œå……è³‡æ–™:HTMLMediaElement HTMLElement.dataset HTMLElement.offsetWidth JSä¸€ç§’å€åˆ†clientX,offsetX,screenX,pageXä¹‹é–“é—œä¿‚ ç¯„ä¾‹ç¶²é è«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬åå¤©","slug":"ironman2021D10","date":"2021-10-22T06:36:06.000Z","updated":"2021-10-22T06:43:44.988Z","comments":true,"path":"2021/10/22/ironman2021D10/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D10/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™åœ¨å·²ç¶“å‹¾é¸ä¸€å€‹æ ¸å–æ–¹å¡Šçš„å‰æä¸‹ï¼ŒæŒ‰ä½shiftéµä¸¦å‹¾é¸ç¬¬äºŒå€‹æ–¹å¡Šï¼Œæœ€å¾Œå°‡ç¬¬ä¸€ã€äºŒå€‹æ–¹å¡Šä¹‹é–“çš„æ–¹å¡Šéƒ½å‹¾é¸èµ·ä¾†ï¼Œå¯¦ç¾åŒæ™‚å‹¾é¸è¤‡æ•¸æ–¹å¡Šçš„ç›®çš„ã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†ç”±æœ€å¤–å±¤çš„ div(.inbox) åŒ…è¦†ä½å…§éƒ¨å¤šå€‹ div(.item)ï¼Œæ¯å€‹div(.item) éƒ½æ˜¯ä»¥ä¸€å€‹æ ¸å–æ–¹å¡Š(checkbox)æ­é…èªªæ˜æ–‡å­—(p)çµ„åˆè€Œæˆã€‚ 1234567891011121314151617181920212223242526272829303132333435363738&lt;div class=&quot;inbox&quot;&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;This is an inbox layout.&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;Check one item&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;Hold down your Shift key&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;Check a lower item&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;Everything in between should also be set to checked&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;Try to do it without any libraries&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;Just regular JavaScript&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;Good Luck!&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;input type=&quot;checkbox&quot;&gt; &lt;p&gt;Don&#x27;t forget to tweet your result!&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; JS éƒ¨åˆ†é¦–å…ˆï¼Œå®£å‘Šä¸€å€‹å¸¸æ•¸ checkboxes ä¸¦å–å¾—æ‰€æœ‰ç¶²é ä¸Šçš„æ ¸å–æ–¹å¡Š(checkbox)ã€‚ æ¥è‘—ï¼Œå®£å‘Šä¸€å€‹è®Šæ•¸ lastChecked ç”¨ä¾†å¹«æˆ‘å€‘è¨˜ä½ä¸Šä¸€æ¬¡å‹¾é¸çš„æ ¸å–æ–¹å¡Š(checkbox)ã€‚ 12const checkboxes = document.querySelectorAll(&#x27;.inbox input[type=&quot;checkbox&quot;]&#x27;);let lastChecked; æˆ‘å€‘åœ¨æ¯å€‹ checkbox ä¸Šéƒ½è¨»å†Š click äº‹ä»¶ç›£è½å™¨ï¼Œç•¶äº‹ä»¶è§¸ç™¼å°±ä»¥handleCheck()é€²è¡Œäº‹ä»¶è™•ç†ã€‚ åœ¨handleCheck()è£¡é¢ï¼Œæˆ‘å€‘å¯ä»¥ç”¨lastChecked = this;ä¾†è¨˜ä½ä¸Šä¸€æ¬¡é¸å–çš„æ–¹å¡Šã€‚ 12345function handleCheck(e)&#123; lastChecked = this;//æ›´æ–°ä¸Šæ¬¡å‹¾é¸çš„é»&#125;checkboxes.forEach(checkbox =&gt; checkbox.addEventListener(&#x27;click&#x27;,handleCheck)); æˆ‘å€‘é€²è¡Œå¤šé¸æ ¸å–æ–¹å¡Šçš„é‚è¼¯æ˜¯å…ˆå‹¾é¸å…¶ä¸­ä¸€å€‹ä½œç‚ºèµ·å§‹é»ï¼Œä¹‹å¾ŒæŒ‰ä½shiftéµå‹¾é¸çµ‚é»æ–¹å¡Šï¼Œè€Œåœ¨èµ·ã€çµ‚é»ä¹‹é–“çš„æ–¹å¡Šéƒ½æœƒè¢«å‹¾é¸ã€‚ åœ¨handleCheck()è£¡ï¼Œå¯ä»¥ä½¿ç”¨ if åˆ¤æ–·ç¾åœ¨æ˜¯ä¸æ˜¯æœ‰æŒ‰ä¸‹shiftéµä¸¦åŒæ™‚å‹¾é¸æ–¹å¡Šï¼Œä¹‹å¾Œå†åšå‹¾é¸é–“éš”æ–¹å¡Šçš„è™•ç†ã€‚ 12345678function handleCheck(e)&#123; //æª¢æŸ¥æ˜¯å¦æœ‰æŒ‰ä¸‹shiftéµä¸¦é¸å–æ–¹å¡Š if(e.shiftKey &amp;&amp; this.checked)&#123; &#125; lastChecked = this;//æ›´æ–°ä¸Šæ¬¡å‹¾é¸çš„é» &#125; å®£å‘Šä¸€å€‹è®Šæ•¸inBetweenåˆ¤æ–·checkboxæ˜¯å¦è™•åœ¨èµ·ã€çµ‚é»çš„checkboxä¹‹é–“ã€‚ åœ¨checkboxesä¸Šå‘¼å«forEach()å°å…¶ä¸‹çš„æ¯ä¸€å€‹checkboxé€²è¡Œåˆ¤æ–·ã€‚ç•¶é€™å€‹checkboxæ˜¯å‰›å‰›æŒ‰ä½shiftéµå‹¾é¸çš„checkboxï¼Œæ­¤æ™‚å°‡inBetweenè¨­ç‚º trueï¼›ç•¶é€™å€‹checkboxæ˜¯lastCheckedï¼Œæ­¤æ™‚æ”¹å°‡inBetweenè¨­ç‚º falseã€‚ æœ€å¾Œä¸€å€‹ if åˆ¤æ–·ç”¨ä¾†å¹«æˆ‘å€‘å°‡èµ·ã€çµ‚é»ä¹‹é–“çš„æ–¹å¡Šé€šé€šå‹¾é¸èµ·ä¾†ã€‚ 12345678910111213141516171819function handleCheck(e)&#123; let inBetween = false;//ç”¨ä¾†åˆ¤æ–·checkboxæ˜¯å¦è¢«å¤¾åœ¨èµ·ã€çµ‚é»ä¹‹é–“ //æª¢æŸ¥æ˜¯å¦æœ‰æŒ‰ä¸‹shiftéµä¸¦é¸å–æ–¹å¡Š if(e.shiftKey &amp;&amp; this.checked)&#123; checkboxes.forEach(checkbox =&gt; &#123; //å°‡èµ·å§‹é»çš„inBetweenè¨­ç‚ºtrueã€çµæŸé»çš„inBetewwnè¨­ç‚ºfalseä½œç‚ºæ–·é» if(checkbox === this || checkbox === lastChecked)&#123; inBetween = !inBetween; &#125; if(inBetween)&#123;//æ‰“å‹¾å¤¾åœ¨èµ·é»å’Œçµ‚é»çš„checkbox checkbox.checked = true; &#125; &#125;) &#125; lastChecked = this;//æ›´æ–°ä¸Šæ¬¡å‹¾é¸çš„é»&#125; èˆ‰ä¾‹èªªæ˜:å‡è¨­ç¾åœ¨å…ˆå‹¾é¸ç¬¬ä¸€å€‹æ–¹å¡Šï¼Œä¹‹å¾ŒæŒ‰ä½shiftéµä¸¦å‹¾é¸ç¬¬å…«å€‹æ–¹å¡Šï¼Œæ­¤æ™‚ç¬¬ä¸€å€‹æ–¹å¡Šå°±æœƒæ˜¯lastCheckedï¼Œè€Œç¬¬å…«å€‹æ–¹å¡Šå‰‡æ˜¯thiså‰›å‰›å‹¾é¸çš„ã€‚ åœ¨checkboxesä¸Šå‘¼å«forEach()å°å…¶ä¸‹çš„æ¯ä¸€å€‹checkboxé€²è¡Œåˆ¤æ–·æ™‚ï¼Œé‡åˆ°ç¬¬ä¸€å€‹æ–¹å¡Šä¹Ÿå°±æ˜¯lastCheckedå°±å°‡inBetweenæ”¹æˆ trueï¼Œé‡åˆ°ç¬¬å…«å€‹æ–¹å¡Šä¹Ÿå°±æ˜¯thiså‰‡å°‡inBetweenæ”¹æˆ falseã€‚ æœ€å¾Œï¼Œç¬¬ä¸€å€‹æ–¹å¡Šåˆ°ç¬¬ä¸ƒå€‹æ–¹å¡Šçš„inBetweenéƒ½æœƒæ˜¯ trueï¼Œç¬¬å…«å€‹æ–¹å¡Šå‰‡æ˜¯ falseã€‚ä½œ if åˆ¤æ–·æ™‚ï¼Œæˆ‘å€‘å°‡inBetweenæ˜¯ true çš„å‹¾é¸èµ·ä¾†ï¼Œå‹¾åˆ°ç¬¬å…«å€‹å‰›å¥½inBetweenæ˜¯ false æˆç‚ºä¸€å€‹å‹¾é¸çš„çµ‚æ­¢é»ï¼ŒæˆåŠŸåœ°ä¸€æ¬¡å‹¾é¸å…«å€‹æ–¹å¡Šã€‚ è£œå……è³‡æ–™:KeyboardEvent.shiftKey ç¯„ä¾‹ç¶²é è«‹é»æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬ä¹å¤©","slug":"ironman2021D9","date":"2021-10-22T06:36:01.000Z","updated":"2021-10-22T06:42:30.935Z","comments":true,"path":"2021/10/22/ironman2021D9/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D9/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™å­¸æœƒä½¿ç”¨ä¸€äº›æ“ä½œ console çš„ JS æ–¹æ³•ã€‚ åœ¨ç¶²é å…ƒç´ ä¸Šè¨­ç½®æ–·é»åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œåªè¦æˆ‘å€‘é»æ“Šæ–‡å­—ï¼Œæ–‡å­—å°±æœƒè®Šå¤§ä¸¦ä¸”é¡è‰²è®Šç‚ºç¶ è‰²ã€‚ ç¾åœ¨å‡è¨­æˆ‘å€‘çŸ¥é“é€™å€‹æ•ˆæœæ˜¯ç¶“ç”± JS ä¹‹æ‰‹åšå‡ºä¾†ï¼Œä½†ä¸çŸ¥é“å¯¦éš›ä¸Šæ˜¯ JS çš„å“ªä¸€éƒ¨åˆ†ç™¼æ®åŠŸèƒ½ã€‚é€™å€‹æ™‚å€™ï¼Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨ç¶²é çš„æª¢æŸ¥åŠŸèƒ½ä¾†è¨­å®š JS åŸ·è¡Œæ™‚çš„ break pointï¼Œè®“å®ƒåœ¨è§¸ç™¼æ•ˆæœçš„é‚£ä¸€è¡Œ JS ç¨‹å¼ç¢¼åœä¸‹ä¾†ã€‚ é¦–å…ˆæ‰“é–‹ç¶²é çš„æª¢æŸ¥åŠŸèƒ½ï¼Œå°‡è¦æŸ¥çœ‹è®ŠåŒ–çš„å…ƒç´ æ¨™ç±¤é¸èµ·ä¾†ä¸¦æŒ‰å³éµé¸æ“‡ break on -&gt; attribute modificationã€‚ æ¥è‘—é»æ“Šæ–‡å­—ï¼Œæœƒç™¼ç¾æ–‡å­—çš„é¡è‰²æ”¹è®Šï¼Œä½†æ–‡å­—å¤§å°å»æ²’æœ‰æ”¹è®Šã€‚ é€™æ˜¯å› ç‚ºæˆ‘å€‘åœ¨é€™å€‹å…ƒç´ æ¨™ç±¤ä¸Šè¨­å®šäº†ä¸€å€‹åªè¦å±¬æ€§å€¼æ”¹è®Šå°±è§¸ç™¼çš„æ–·é»ï¼Œæ‰€ä»¥åŸ·è¡Œåˆ° JS çš„ p.style.color = &#39;#BADA55&#39;; ä¿®æ”¹åˆ°æ¨™ç±¤å±¬æ€§å°±åœæ­¢ç¹¼çºŒå¾€ä¸‹åŸ·è¡Œä¸‹ä¸€è¡Œ JSã€‚ å¦‚æœæƒ³è¦ç¹¼çºŒåŸ·è¡Œä¸‹ä¸€è¡Œ JSï¼Œåªè¦æŒ‰åœ–ç‰‡ä¸­çš„è—è‰²æ’­æ”¾éˆ•ï¼Œå®ƒå°±æœƒè·³åˆ°ä¸‹ä¸€è¡Œç¹¼çºŒåŸ·è¡Œï¼ŒåŒæ™‚ä¹Ÿå¯ä»¥ç™¼ç¾æ–‡å­—è®Šå¤§ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œåœ¨å…ƒç´ æ¨™ç±¤ä¸Šè¨­å®šæ–·é»æ˜¯ debug çš„ä¸€å€‹å¥½æ–¹æ³•ï¼Œæˆ‘å€‘å¯ä»¥é€æ­¥è§€å¯Ÿç¨‹å¼ç¢¼çš„åŸ·è¡Œéç¨‹ä¸¦å¿«é€Ÿæ‰¾å‡ºå•é¡Œé»ã€‚ ä¸€äº›æœ‰é—œ console çš„ JS æ–¹æ³•1. console.log()Regular: ç›´æ¥è¼¸å‡ºå­—ä¸²åˆ° console ä¸Šã€‚ Interpolated: æ ¼å¼åŒ–è¼¸å‡ºå­—ä¸²åˆ° console ä¸Šï¼Œé¡ä¼¼ Java çš„ printf æ–¹æ³•ã€‚ Styled: åœ¨è¼¸å‡ºå­—ä¸²åˆ° console çš„åŒæ™‚ï¼Œç”¨æŒ‡å®šçš„ CSS ä¿®é£¾å­—ä¸²ã€‚ 12345678// Regularconsole.log(&#x27;Hello World&#x27;)// Interpolatedconsole.log(&#x27;I am very interested in %s animation.&#x27;,&#x27;Japanese&#x27;);// Styledconsole.log(&#x27;%c I am very interested in Japanese animation.&#x27;,&#x27;font-weight: bold;background: skyblue;color:white;font-size:20px;&#x27;); 2. console.warn()å‘¼å«console.warn()åœ¨ console è¼¸å‡ºè­¦å‘Šè¨Šæ¯ã€‚ 12// warning!console.warn(&#x27;Something is wrong!&#x27;); 3. console.error()å‘¼å«console.error()åœ¨ console è¼¸å‡ºéŒ¯èª¤è¨Šæ¯ã€‚ 12// Errorconsole.error(&#x27;There is a fatal error!&#x27;); 4. console.info()å‘¼å«console.info()åœ¨ console è¼¸å‡ºæç¤ºè¨Šæ¯ã€‚ 12// Infoconsole.info(&#x27;info message&#x27;); 5. console.assert()å‘¼å«console.assert()æ™‚ï¼Œè‹¥å‰æ–¹çš„åˆ¤æ–·çµæœå›å‚³ false å‰‡å°å‡ºå¾Œæ–¹å­—ä¸²åˆ° console ä¸Šã€‚ 123// Testingconst p = document.querySelector(&#x27;p&#x27;);console.assert(p.classList.contains(&#x27;ouch&#x27;),&#x27;That is wrong!&#x27;); 6. console.clear()å‘¼å«console.clear()æ¸…ç©º console çš„å…§å®¹ã€‚ 12// clearingconsole.clear(); 7. console.dir()å‘¼å«console.log(DOM Element)è¼¸å‡ºè©²å…ƒç´ æ¨™ç±¤åˆ° console ä¸Šã€‚ å‘¼å«console.dir(DOM Element)ä»¥ JSON æ ¼å¼å°‡è©²å…ƒç´ çš„ property å…¨éƒ¨è¼¸å‡ºåˆ° console ä¸Šã€‚ ä¸éæˆ‘åœ¨ console çœ‹åˆ°çš„çµæœæ˜¯ç›¸åŒçš„ã€‚ 123// Viewing DOM Elementsconsole.log(p);console.dir(p); 8. console.group()/groupEnd()å‘¼å«console.group(label);é€²è¡Œåˆ†çµ„ã€console.groupEnd(label);çµæŸåˆ†çµ„ã€‚ label: çµ„åˆ¥åç¨± å¦‚æœåˆå§‹å‘¼å«çš„æ˜¯console.groupCollapsed(label)ï¼Œå‰‡æœƒé è¨­ä»¥æ‘ºç–Šæ–¹å¼å‘ˆç¾ã€‚ 123456789// Grouping togetherdogs.forEach(dog =&gt; &#123; //console.groupCollapsed(`$&#123;dog.name&#125;`); console.group(`$&#123;dog.name&#125;`); console.log(`This is $&#123;dog.name&#125;.`); console.log(`$&#123;dog.name&#125; is $&#123;dog.age&#125; years old.`); console.log(`$&#123;dog.name&#125; is $&#123;dog.age * 7&#125; years old.`); console.groupEnd(`$&#123;dog.name&#125;`);&#125;) å‘¼å«console.group(label) å‘¼å«console.groupCollapsed(label) 9. console.count()å‘¼å«console.count(label);å¯ä»¥å¾—åˆ° label å‡ºç¾éçš„æ¬¡æ•¸ã€‚ 1234567// countingconsole.count(&#x27;Saber&#x27;);console.count(&#x27;Saber&#x27;);console.count(&#x27;Saber&#x27;);console.count(&#x27;Miku&#x27;);console.count(&#x27;Saber&#x27;);console.count(&#x27;Miku&#x27;); 10. console.time()/timeEnd()å‘¼å«console.time()/timeEnd()å¯ä»¥å–å¾—åŸ·è¡Œåˆ°æŸä¸€è¡Œ JS ç¶“éçš„æ™‚é–“ã€‚ 12345678// timingconsole.time(&#x27;fetching data&#x27;);fetch(&#x27;https://api.github.com/users/wesbos&#x27;) .then(data =&gt; data.json()) .then(data =&gt; &#123; console.timeEnd(&#x27;fetching data&#x27;); console.log(data); &#125;); è£œå……è³‡æ–™:Console API reference","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬å…«å¤©","slug":"ironman2021D8","date":"2021-10-22T06:35:55.000Z","updated":"2021-10-22T06:40:30.257Z","comments":true,"path":"2021/10/22/ironman2021D8/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D8/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™ä½¿ç”¨ JavaScript å¯¦ä½œå‡ºèƒ½åœ¨ HTML Canvas ä¸Šç”¨ç­†åˆ·ç•«åœ–çš„æ¥µç°¡ç‰ˆå°ç•«å®¶ã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†åœ¨ body å…§æ”¾å…¥ canvas æ¨™ç±¤ä½œç‚ºæˆ‘å€‘çš„ç•«å¸ƒï¼Œé€™è£¡é›–ç„¶æŒ‡å®šå¤§å°ç‚º 800*800ï¼Œä½†ä¹‹å¾Œæœƒåˆ©ç”¨ JS æŠŠå®ƒæ”¹æˆè·Ÿè¦–çª—(window)ä¸€æ¨£å¤§ã€‚ 1&lt;canvas id=&quot;draw&quot; width=&quot;800&quot; height=&quot;800&quot;&gt;&lt;/canvas&gt; JS éƒ¨åˆ†å–å¾— canvas æ¨™ç±¤å¾Œï¼Œå°‡ç•«å¸ƒçš„å¯¬ã€é«˜ï¼Œå°‡å…¶æ”¹æˆè·Ÿè¦–çª—å…§éƒ¨çš„å¯¬ã€é«˜ä¸€æ¨£çš„æ•¸å€¼ã€‚ 123const canvas = document.querySelector(&#x27;#draw&#x27;);canvas.width = window.innerWidth;canvas.height = window.innerHeight; canvas åªæ˜¯ä¸€å€‹ç©ºç™½çš„ç•«å¸ƒï¼Œå¯¦éš›ä¸Šæˆ‘å€‘éœ€è¦â€œå–å¾—ç•«å¸ƒçš„æ¸²æŸ“ç’°å¢ƒ(rendering context)â€æ‰èƒ½åœ¨æ¸²æŸ“ç’°å¢ƒä¸Šä½œç•«ã€‚ æˆ‘å€‘å‘¼å« canvas çš„ getContext() æ–¹æ³•ä¸¦æ”¾å…¥ â€œ2dâ€ ä½œç‚ºåƒæ•¸ï¼Œé †åˆ©å–å¾— canvas çš„ 2D æ¸²æŸ“ç’°å¢ƒï¼Œè‹¥æ˜¯è¦å–å¾— 3D æ¸²æŸ“ç’°å¢ƒåªè¦æ”¾å…¥ â€œ3dâ€ ä½œç‚ºåƒæ•¸å°±å¥½ã€‚ ç·Šæ¥è‘—ï¼Œæˆ‘å€‘èª¿æ•´ context çš„ strokeStyle å±¬æ€§å€¼ï¼Œæ›´æ”¹ä½œç•«æ™‚çš„ç•«ç­†é¡è‰²ã€‚ context çš„ lineJoin æ˜¯ç”¨ä¾†è¨­å®šå…©æ¢é•·åº¦ä¸ç‚º0çš„ç·šæ®µå¦‚ä½•åœ¨æ¥åˆè™•é€£æ¥ï¼ŒæŠŠå€¼è¨­å®šç‚º â€œroundâ€ å‰‡åœ¨ç›¸é€£éƒ¨åˆ†ä»¥æ‰‡å½¢é€£æ¥ã€‚ context çš„ lineCap æ˜¯ç”¨ä¾†è¨­å®šç·šæ®µæœ«ç«¯çš„å‘ˆç¾æ–¹å¼ï¼ŒæŠŠå€¼è¨­å®šç‚º â€œroundâ€ å‰‡åœ¨æœ«ç«¯éƒ¨åˆ†ä»¥æ‰‡å½¢å‘ˆç¾ã€‚ context çš„ lineWidth ç”¨ä¾†è¨­å®šç·šæ¢çš„ç²—ç´°ã€‚ 12345const ctx = canvas.getContext(&#x27;2d&#x27;);ctx.strokeStyle = &#x27;#BADASS&#x27;;ctx.lineJoin = &#x27;round&#x27;;ctx.lineCap = &#x27;round&#x27;;ctx.lineWidth = 100; æˆ‘å€‘å¸Œæœ›åœ¨è¦–çª—ä¸‹æŒ‰ä½æ»‘é¼ æ‹–æ›³æ™‚ä½œç•«ï¼Œæ‰€ä»¥åœ¨ canvas ä¸Šè¨»å†Š4å€‹äº‹ä»¶ç›£è½å™¨ã€‚ è§¸ç™¼â€™mousedownâ€™äº‹ä»¶æ™‚ï¼Œè¨­å®š isDrawing = trueï¼Œè¡¨ç¤ºç¾åœ¨å¯ä»¥ä½œç•«ï¼›è¨­å®š [lastX,lastY] = [e.offsetX,e.offsetY]ï¼Œæ›´æ–°ä½œç•«çš„èµ·å§‹é»ã€‚ è§¸ç™¼â€™mousemoveâ€™äº‹ä»¶æ™‚ï¼Œç”¨ draw() æ–¹æ³•æŒçºŒçš„é€²è¡Œä½œç•«ã€‚ è§¸ç™¼â€™mouseupâ€™ã€â€™mouseoutâ€™æ™‚ï¼Œçš†è¨­å®š isDrawing = falseï¼Œè¡¨ç¤ºåœ¨æ»‘é¼ æ²’è¢«æŒ‰ä½å’Œæ»‘é¼ é›¢é–‹è¦–çª—çš„æƒ…æ³ä¸‹éƒ½åœæ­¢ä½œç•«ã€‚ 123456789101112let isDrawing = false;//flaglet lastX = 0;let lastY = 0;canvas.addEventListener(&#x27;mousemove&#x27;,draw);canvas.addEventListener(&#x27;mousedown&#x27;,(e)=&gt; &#123; isDrawing = true; [lastX,lastY] = [e.offsetX,e.offsetY]; &#125;);canvas.addEventListener(&#x27;mouseup&#x27;,()=&gt; isDrawing = false);canvas.addEventListener(&#x27;mouseout&#x27;,()=&gt; isDrawing = false); äº‹ä»¶è™•ç†æ–¹æ³• draw()ï¼Œåœ¨æœ€åˆå°±å…ˆåˆ¤æ–·ç¾åœ¨èƒ½ä¸èƒ½ä½œç•«ï¼Œä¸èƒ½çš„è©±(isDrawing = false)å°±ç›´æ¥è¿”å›ã€‚ ctx.beginPath() ç”¨ä¾†å»ºç«‹ä¸€å€‹æ–°çš„ä½œç•«è·¯å¾‘ã€‚ctx.moveTo() ç”¨ä¾†ç§»å‹•è·¯å¾‘èµ·å§‹é»çš„åº§æ¨™ã€‚ctx.lineTo() ç”¨ä¾†æŒ‡å®šé€™æ¢è·¯å¾‘çš„çµ‚é»åº§æ¨™ã€‚ctx.stroke() å°‡é€™æ¢è·¯å¾‘æå‡ºä¾†ã€‚ [lastX,lastY] = [e.offsetX,e.offset] ç”¨ä¾†ä¸æ–·æ›´æ–°â€æ­¤æ¬¡â€æŒ‰ä½æ»‘é¼ æ‹–æ›³ä½œç•«éç¨‹ä¸­æŒçºŒè®Šå‹•çš„è·¯å¾‘èµ·å§‹é»ã€‚ 1234567891011function draw(e)&#123; if(!isDrawing) return; ctx.beginPath(); //start from ctx.moveTo(lastX,lastY); //go to ctx.lineTo(e.offsetX,e.offsetY); ctx.stroke(); [lastX,lastY] = [e.offsetX,e.offsetY];&#125; HSL çš„ H(Hueï¼Œè‰²ç›¸è§’åº¦)ï¼Œæ˜¯ç”± 0~360 ç‚ºæ­¢çš„è‰²ç›¸å¾ªç’°ï¼Œ0æ˜¯ç´…è‰²ã€120æ˜¯ç¶ è‰²ã€240æ˜¯è—è‰²ï¼ŒHue æœ¬èº«ä¸åŠ å–®ä½ï¼Œè©³ç´°èªªæ˜å¯ä»¥åƒè€ƒä¸‹æ–¹è£œå……è³‡æ–™ CSS Coke å¤§å¤§çš„æ–‡ç« ã€‚ å®£å‘Š hue è®Šæ•¸æŒ‡å®šç•«ç­†é¡è‰²ï¼Œä¸¦æŒçºŒçš„å°‡ hue + 1ï¼Œç•¶ hue &gt;= 360æ™‚ï¼Œä»£è¡¨é¡è‰²å·²ç¶“å¾ªç’°éä¸€æ¬¡ï¼Œæ•…å°‡å…¶é‡è¨­ç‚º0ã€‚ å®£å‘Š direction è®Šæ•¸ä½œç‚ºç›®å‰è©²åŠ ç²—ç•«ç­†é‚„æ˜¯è®“ç•«ç­†è®Šç´°çš„åˆ¤æ–·ï¼Œdirection çš„åˆå§‹å€¼æ˜¯ true ä¹Ÿå°±æ˜¯è®“ç•«ç­†è®Šç²—ã€‚ç¬¬ä¸€å€‹ if åˆ¤æ–·ç›®å‰çš„ç•«ç­†ç²—ç´°æ˜¯ä¸æ˜¯ &gt;= 100 æˆ– &lt;= 1ï¼Œå¦‚æœæ¢ä»¶ç¬¦åˆå°±å°‡ direction è®Šç‚ºç›¸åå€¼(true è®Š false)ã€‚åœ¨ç¬¬äºŒå€‹çš„ if-else åˆ¤æ–·ï¼Œå¦‚æœ direction = true å°±åŠ ç²—ç•«ç­†ã€åä¹‹å‰‡è®“ç•«ç­†è®Šå¾—æ›´ç´°ã€‚ 123456789101112131415161718192021let hue = 0;let direction = true;function draw(e)&#123; /*.......çœç•¥*/ ctx.strokeStyle = `hsl($&#123;hue&#125;,100%,50%)`; /*.......çœç•¥*/ hue++; if(hue &gt;= 360)&#123; hue = 0; &#125; if(ctx.lineWidth &gt;= 100 || ctx.lineWidth &lt;= 1)&#123; direction = !direction; &#125; if(direction)&#123; ctx.lineWidth++; &#125;else&#123; ctx.lineWidth--; &#125;&#125; æœ€å¾Œä¾†ä»‹ç´¹ä¸€å€‹ç‰¹åˆ¥çš„æ±è¥¿ï¼Œctx çš„ globalCompositeOperationï¼Œä¸»è¦ç”¨ä¾†è™•ç†ç–Šåœ–(ç·šæ®µé‡ç–Š)çš„æƒ…æ³ï¼Œè‹¥å°‡å…¶è¨­å®šç‚º â€˜multiplyâ€™ å‰‡å°‡ä¸Šå±¤åƒç´ èˆ‡ç›¸å°æ‡‰çš„ä¸‹å±¤åƒç´ ç›¸ä¹˜ï¼Œæ•´é«”æ•ˆæœæ˜¯è®“é¡è‰²æ›´åŠ è¶¨æ–¼é»‘è‰²ã€‚ 1ctx.globalCompositeOperation = &#x27;multiply&#x27;; è£œå……è³‡æ–™:Canvas åŸºæœ¬ç”¨é€”CanvasRenderingContext2D.strokeStyleCanvasRenderingContext2D.lineJoinCanvasRenderingContext2D.lineCapCanvasRenderingContext2D.lineWidthCanvasRenderingContext2D.beginPath()CanvasRenderingContext2D.moveTo()CanvasRenderingContext2D.lineTo()RGBã€HSLã€Hex ç¶²é è‰²å½©ç¢¼ï¼Œçœ‹å®Œé€™ç¯‡å…¨æ‡‚äº†JSä¸€ç§’å€åˆ†clientX,offsetX,screenX,pageXä¹‹é–“é—œä¿‚CanvasRenderingContext2D.globalCompositeOperation ç¯„ä¾‹ç¶²é è«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬ä¸ƒå¤©","slug":"ironman2021D7","date":"2021-10-22T06:35:50.000Z","updated":"2021-10-22T07:13:33.545Z","comments":true,"path":"2021/10/22/ironman2021D7/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D7/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™ç·´ç¿’ä½¿ç”¨JS Array çš„ some()ã€every()ã€find()ã€findIndex()ã€‚ è§£æç¨‹å¼ç¢¼JS éƒ¨åˆ†ç·´ç¿’é¡Œä½¿ç”¨åˆ°çš„è³‡æ–™: 1234567891011121314const people = [ &#123; name: &#x27;Wes&#x27;, year: 1988 &#125;, &#123; name: &#x27;Kait&#x27;, year: 1986 &#125;, &#123; name: &#x27;Irv&#x27;, year: 1970 &#125;, &#123; name: &#x27;Lux&#x27;, year: 2015 &#125;];const comments = [ &#123; text: &#x27;Love this!&#x27;, id: 523423 &#125;, &#123; text: &#x27;Super good&#x27;, id: 823423 &#125;, &#123; text: &#x27;You are the best&#x27;, id: 2039842 &#125;, &#123; text: &#x27;Ramen is my fav food ever&#x27;, id: 123523 &#125;, &#123; text: &#x27;Nice Nice Nice!&#x27;, id: 542328 &#125;]; 1. Is at least one person 19 or older?Array.prototype.some() some() å¯ä»¥çµ¦å®šä¸€å€‹å‡½å¼ï¼Œæ¸¬è©¦é™£åˆ—ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€å€‹å…ƒç´ ç¬¦åˆæŒ‡å®šçš„æ¢ä»¶ï¼Œè©²æ–¹æ³•å›å‚³çš„æ˜¯å¸ƒæ—å€¼ã€‚ Date å»ºç«‹ä¸€å€‹ JavaScript Date ç‰©ä»¶ä¾†å–å¾—æŸå€‹æ™‚é–“é»ã€‚Date ç‰©ä»¶æ˜¯å¾ä¸–ç•Œæ¨™æº–æ™‚é–“ï¼ˆUTCï¼‰ 1970 å¹´ 1 æœˆ 1 æ—¥é–‹å§‹ç®—èµ·ã€‚ ç¬¬ä¸€é¡Œï¼Œæˆ‘å€‘æª¢æŸ¥æ˜¯å¦è‡³å°‘æœ‰ä¸€å€‹ person çš„å¹´ç´€å¤§æ–¼ 19æ­²ã€‚æŒ‡å®šä¸€å€‹ function åˆ° some() ä¸­ï¼Œåœ¨ function è£¡é¢ï¼Œæˆ‘å€‘å®£å‘Šä¸€å€‹å¸¸æ•¸ currentYearä¾†å­˜æ”¾ç¾åœ¨çš„å¹´ä»½ï¼Œä¹‹å¾Œé€é if åˆ¤æ–·ç”¨ç¾åœ¨çš„å¹´ä»½æ¸›å» person çš„å‡ºç”Ÿå¹´ï¼Œæ˜¯å¦å¤§æ–¼19ï¼Œå¦‚æœå¤§æ–¼19å°±è¿”å› trueã€‚ åŸºæœ¬ç‰ˆ:12345const isAdult = people.some(function(person)&#123; const currentYear = (new Date()).getFullYear(); if(currentYear - person.year &gt;= 19) return true;&#125;); ç°¡åŒ–ç‰ˆ:1234const isAdult = people.some(person =&gt; &#123; const currentYear = (new Date()).getFullYear(); return currentYear - person.year &gt; 19;&#125;); æ›´ç°¡åŒ–ç‰ˆ:123const isAdult = people.some(person =&gt; (new Date().getFullYear()) - person.year &gt;= 19 );console.log(isAdult); 2. Is everyone 19 or older?Array.prototype.every() every() æ–¹æ³•æœƒæ¸¬è©¦é™£åˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆå‡½å¼æ‰€æŒ‡å®šçš„æ¢ä»¶ï¼Œè‹¥å…¨éƒ¨å…ƒç´ éƒ½ç¬¦åˆå‰‡è¿”å› trueï¼Œåä¹‹å‰‡è¿”å› falseã€‚ æˆ‘å€‘ä½¿ç”¨ every() æ–¹æ³•ï¼Œå°‡é™£åˆ—å…ƒç´ ä¸€å€‹å€‹çš„æ‹¿å‡ºä¾†åšæ¢ä»¶åˆ¤æ–·ï¼Œè‹¥æ˜¯æœ‰å…¶ä¸­ä¸€å€‹å…ƒç´ ç¶“éè¨ˆç®—ä¸ç¬¦åˆè¨­å®šçš„è¦å‰‡å°± return falseã€‚ 123const allAdults = people.every(person =&gt; (new Date().getFullYear()) - person.year &gt;= 19 );console.log(allAdults); 3. Find the comment with the ID of 823423.Array.prototype.find() find() æ–¹æ³•æœƒå›å‚³ç¬¬ä¸€å€‹ç¬¦åˆå‡½å¼å®šç¾©æ¢ä»¶çš„å…ƒç´ å€¼ï¼Œè‹¥æ²’æœ‰å…ƒç´ ç¬¦åˆæ¢ä»¶å°±å›å‚³undefinedã€‚ ä¸‹é¢æˆ‘å€‘ä½¿ç”¨ find() æ‰¾å‡º comment id æ˜¯ 823423 çš„ commentã€‚é€™é‚Šæ˜¯ç”¨===è€Œä¸æ˜¯==é€²è¡Œç›¸ç­‰é‹ç®—ï¼Œå› ç‚ºåœ¨ js ä¸­ä½¿ç”¨ == é€²è¡Œç›¸ç­‰é‹ç®—ï¼Œjs æœƒå¹«ä½ å·å·åœ°è½‰æ›å‹åˆ¥å†é€²è¡Œæ¯”è¼ƒï¼Œä¾‹å¦‚: &#39;99&#39; == 99 çš„çµæœå°±æœƒæ˜¯ trueã€‚===å‰‡æ˜¯åš´æ ¼çš„ç›¸ç­‰é‹ç®—ï¼Œjs ä¸æœƒå·å·çš„åšè³‡æ–™è½‰å‹ï¼Œå…©é‚Šè³‡æ–™å‹æ…‹åªè¦ä¸ä¸€è‡´ï¼Œè‡ªç„¶å°±æœƒå›å‚³ falseã€‚ åŸºæœ¬ç‰ˆ: 12345const comment = comments.find(function(comment)&#123; if(comment.id === 823423)&#123; return true; &#125;&#125;); ç°¡åŒ–ç‰ˆ: 123const comment = comments.find(comment =&gt; comment.id === 823423);console.log(comment); 4. Delete the comment with the ID of 823423.Array.prototype.findIndex() findIndex()æ–¹æ³•å°‡æŒ‰ç…§æŒ‡å®šçš„å‡½å¼ï¼Œå°‹æ‰¾é™£åˆ—ä¸­ç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶çš„å…ƒç´ ï¼Œä¸¦å›å‚³å…ƒç´ çš„ indexï¼ˆç´¢å¼•ï¼‰ã€‚å¦‚æœæ²’æœ‰æ‰¾åˆ°ç¬¦åˆçš„å…ƒç´ å°±å›å‚³ -1 ã€‚ Array.prototype.slice() slice()æ–¹æ³•æœƒå›å‚³ä¸€å€‹æ–°çš„é™£åˆ—ï¼Œå®ƒæœƒåˆ‡å‰²å‡ºåŸé™£åˆ—å¾ç´¢å¼• begin è‡³ endï¼ˆä¸å« endï¼‰çš„å…ƒç´ ã€‚åŸæœ¬çš„é™£åˆ—ä¸æœƒè¢«å½±éŸ¿ã€‚ æˆ‘å€‘ä½¿ç”¨ findIndex() å°‹æ‰¾åˆ°ç¬¬ä¸€å€‹ comment id æ˜¯ 823423 çš„å…ƒç´ ä¸¦å–å¾—è©²å…ƒç´ çš„ç´¢å¼•å€¼(index)ã€‚ é€é slice()å°‡é™£åˆ—é€²è¡Œåˆ‡å‰²ï¼Œæˆ‘å€‘å¯ä»¥å°‡æ‰¾å‡ºçš„å…ƒç´ å€¼å¾é™£åˆ—ä¸­ç§»é™¤ä¸¦å®£å‘Šå¸¸æ•¸æ‰¿æ¥å›å‚³çš„æ–°é™£åˆ—ã€‚(è¤‡ç¿’ä¸€ä¸‹ï¼Œå‰é¢èªªé...å¯ä»¥æŠŠé™£åˆ—ä¸­çš„å…ƒç´ ä¸€å€‹å€‹åœ°å±•é–‹ã€‚) 1234567891011const index = comments.findIndex(comment =&gt; comment.id === 823423);console.log(index);const newComments = [ ...comments.slice(0,index), ...comments.slice(index + 1)];console.table(comments);console.table(newComments); è£œå……è³‡æ–™:ç›¸ç­‰æ¯”è¼ƒ ===ã€==Array.prototype.slice()Array.prototype.findIndex()Array.prototype.find()Array.prototype.every()DateArray.prototype.some()","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬å…­å¤©","slug":"ironman2021D6","date":"2021-10-22T06:27:37.000Z","updated":"2021-10-22T06:34:08.414Z","comments":true,"path":"2021/10/22/ironman2021D6/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D6/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™åˆ©ç”¨ Fetch API å–å¾— JSON æ ¼å¼çš„è³‡æ–™ï¼Œéš¨è‘—è¼¸å…¥é—œéµå­—çš„ä¸åŒï¼Œå°‡ç‰¹å®šè³‡æ–™ç¯©é¸å‡ºä¾†ä¸¦å‘ˆç¾åœ¨ç¶²é ä¸Šã€‚ è§£æç¨‹å¼ç¢¼JS éƒ¨åˆ†å°‡è¦å–å¾—çš„è³‡æ–™ä¾†æºç¶²å€æ”¾å…¥ endpointä¸­ï¼Œä¸¦å»ºç«‹ä¸€å€‹ç©ºçš„cityé™£åˆ—ã€‚ 123const endpoint = &#x27;https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json&#x27;;const cities = [];/*empty array*/ fetch() æ˜¯ Fetch API çš„ä¸€å€‹æ–¹æ³•ï¼Œä¸»è¦ç”¨æ–¼ç™¼å‡ºè³‡æ–™çš„ request ä¸¦å›å‚³ Promiseï¼Œæœ‰é»é¡ä¼¼æ–¼XMLHttpRequestï¼Œä½†åœ¨ä½¿ç”¨ä¸Šè¼ƒæœ‰å½ˆæ€§ã€‚ Promise ç‰©ä»¶ä»£è¡¨çš„æ˜¯ä¸€å€‹å°‡è¦å®Œæˆæˆ–å¤±æ•—çš„éåŒæ­¥æ“ä½œï¼Œä»¥åŠå®ƒæ‰€ç”¢ç”Ÿçš„å€¼ã€‚ then() æ–¹æ³•æœ€å¤šéœ€è¦å…©å€‹åƒæ•¸ï¼Œåˆ†åˆ¥ä½œç‚º Promise æˆåŠŸå’Œå¤±æ•—æ™‚çš„ callback function ä¸¦è¿”å› Promiseã€‚ json() æ–¹æ³•æœƒæ¥æ”¶ä¸€å€‹ response streamï¼Œåœ¨è®€å–å®Œæˆä¹‹å¾Œè¿”å›ä¸€å€‹è§£ææˆ JSON æ ¼å¼çš„ Promiseã€‚ æˆ‘å€‘é€é fetch() å‘ endpoint ç™¼é€ requestï¼Œä¹‹å¾Œå°‡ return çš„ Promise ä»¥ json æ ¼å¼é€²è¡Œè§£æ§‹ï¼Œæœ€å¾Œå°‡é€™äº›è³‡æ–™ä¸€ç­†ç­†çš„ push åˆ°ç©ºçš„ cities é™£åˆ—ä¸­ã€‚...dataçš„ä¸»è¦ç”¨æ„åœ¨æ–¼å°‡åŸæœ¬çš„ data é™£åˆ—ä¸­çš„å…ƒç´ å€‹åˆ¥æ‹†å‡ºä¾†æ”¾é€² cities è£¡é¢ï¼Œå¦‚æœç›´æ¥å¯«cities.push(data)å‰‡ data æœƒè®Šæˆåœ¨ cities å…§éƒ¨çš„ä¸€å€‹é™£åˆ—å‹æ…‹å…ƒç´ ã€‚ 123fetch(endpoint) .then(blob =&gt; blob.json()) .then(data =&gt; cities.push(...data)); findMatches() éœ€è¦ç”¨åˆ°å…©å€‹åƒæ•¸ï¼ŒwordToMatch ç”¨ä¾†å‚³å…¥è¦å°‹æ‰¾çš„æ–‡å­—ï¼Œcities å‰‡æ˜¯åŸæœ¬çš„è³‡æ–™é™£åˆ—ï¼Œæœ€å¾Œå›å‚³ç¶“é filter() éæ¿¾å¾Œçš„ cities é™£åˆ—ã€‚ åœ¨ filter() è£¡ï¼Œæˆ‘å€‘å°‡ cities çš„æ¯ä¸€å€‹å…ƒç´ ç”¨ RegExp ç‰©ä»¶é€²è¡Œæ­£è¦è¡¨ç¤ºå¼çš„å­—å…ƒæ¯”å°ï¼Œä¹‹å¾Œå°‡åŒ…å«é—œéµå­—çš„ city æˆ–æ˜¯ stateå›å‚³ã€‚ RegExp() ç”¨ä¾†å»ºç«‹ä¸€å€‹æ­£è¦è¡¨é”å¼çš„ç‰©ä»¶ï¼ŒwordToMatch æ˜¯è¦é€²è¡Œæ¯”å°çš„å…§å®¹ï¼Œ&#39;gi&#39;å‰‡æ˜¯ flagï¼Œg ä»£è¡¨æœå°‹å‡ºæ‰€æœ‰ç¬¦åˆæ¯”å°çš„æ–‡å­—ï¼Œè€Œä¸æ˜¯æ¯”å°å‡ºç¬¬ä¸€ç­†å°±åœæ­¢ï¼Œi ä»£è¡¨æ¯”å°æ™‚ä¸åˆ†å¤§å°å¯«ã€‚ 123456function findMatches(wordToMatch, cities)&#123; return cities.filter(place =&gt; &#123; const regex = new RegExp(wordToMatch,&#x27;gi&#x27;); return place.city.match(regex) || place.state.match(regex); &#125;)&#125; numberWithCommas() ä¸»è¦ç”¨ä¾†å¹«æˆ‘å€‘åœ¨æ¯ä¸‰ä½æ•¸å­—åŠ ä¸Šé€—è™Ÿ(ex.1,000)ã€‚toString() å¯ä»¥å¹«æˆ‘å€‘å°‡ x è½‰æˆå­—ä¸²ï¼Œä¹‹å¾Œåˆ©ç”¨ replace() é€²è¡Œæ­£è¦è¡¨ç¤ºå¼çš„åˆ¤æ–·ä¸¦å–ä»£å­—å…ƒã€‚ 123function numberWithCommas(x)&#123; return x.toString().replace(/\\B(?=(\\d&#123;3&#125;)+(?!\\d))/g,&#x27;,&#x27;);&#125; å®£å‘Š matchArray ä¸¦æ”¾å…¥æ‰¾åˆ°çš„çµæœé™£åˆ—ã€‚æ¥è‘—ï¼Œå°‡é™£åˆ—ä¸­çš„å…ƒç´ æ›æˆ HTML çš„æ ¼å¼ã€‚å†ä¾†å®£å‘Šä¸€å€‹ Regex ç‰©ä»¶ï¼Œç„¶å¾Œå®£å‘Šå…©å€‹å¸¸æ•¸ä¸¦å„è‡ªä»¥æ­£è¦è¡¨ç¤ºå¼åˆ¤æ–·ä¸¦å–ä»£(replace)åŸæœ‰çš„æ–‡å­—å…§å®¹ï¼Œæ”¹ä»¥ HTML çš„æ–¹å¼å‘ˆç¾ã€‚ ä¹‹å¾Œï¼Œé€é Template literals çš„æ ¼å¼å‚³å›ä¸€å€‹&lt;li&gt;...&lt;/li&gt;ã€‚æœ€å¾Œï¼Œä½¿ç”¨ join() å°‡é™£åˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ ä»¥ç©ºå­—ä¸²ç‚ºåˆ†éš”ï¼Œå½¢æˆä¸€å€‹å¾ˆé•·çš„å­—ä¸²å†æ”¾å…¥.suggestionsçš„æ¨™ç±¤ä¸­ã€‚ 123456789101112131415function displayMatches()&#123; const matchArray = findMatches(this.value,cities); const html = matchArray.map(place =&gt;&#123; const regex = new RegExp(this.value, &#x27;gi&#x27;); const cityName = place.city.replace(regex,`&lt;span class=&quot;hl&quot;&gt;$&#123;this.value&#125;&lt;/span&gt;`); const stateName = place.state.replace(regex,`&lt;span class=&quot;hl&quot;&gt;$&#123;this.value&#125;&lt;/span&gt;`); return ` &lt;li&gt; &lt;span class=&quot;name&quot;&gt;$&#123;cityName&#125;, $&#123;stateName&#125;&lt;/span&gt; &lt;span class=&quot;ppulation&quot;&gt;$&#123;numberWithCommas(place.population)&#125;&lt;/span&gt; &lt;/li&gt; ` &#125;).join(&#x27;&#x27;); suggestions.innerHTML = html;&#125; åˆ†åˆ¥å®£å‘Šå¸¸æ•¸ searchInputã€suggestions ä¸¦å–å¾— .searchã€.suggestionsæ¨™ç±¤ã€‚æœ€å¾Œç‚ºæœå°‹æ¬„(searchInput) è¨»å†Šchangeå’Œkeyupäº‹ä»¶ï¼Œç•¶æ¬„ä½æ•¸å€¼ç™¼ç”Ÿæ”¹è®Šæˆ–æ”¾é–‹éµç›¤çš„é‚£å€‹å‰é‚£éƒ½æœƒè§¸ç™¼äº‹ä»¶ï¼Œå…©å€‹äº‹ä»¶éƒ½æ˜¯ä»¥ displayMatches() é€²è¡Œäº‹ä»¶è™•ç†ã€‚ 12345const searchInput = document.querySelector(&#x27;.search&#x27;);const suggestions = document.querySelector(&#x27;.suggestions&#x27;);searchInput.addEventListener(&#x27;change&#x27;,displayMatches)searchInput.addEventListener(&#x27;keyup&#x27;,displayMatches); è£œå……è³‡æ–™:Promiseä½¿ç”¨ FetchPromise.prototype.then()Response.json()Spread syntax (â€¦)RegExp()æ¯”è¼ƒ keydown, keypress, keyup çš„å·®ç•° å¯¦éš›æ•ˆæœè«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬äº”å¤©","slug":"ironman2021D5","date":"2021-10-22T06:27:31.000Z","updated":"2021-10-22T06:30:34.585Z","comments":true,"path":"2021/10/22/ironman2021D5/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D5/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™åˆ©ç”¨ flexboxã€transition ç­‰ CSS å±¬æ€§ï¼Œæ­é… JS ç›£è½ transitionendã€click äº‹ä»¶ï¼Œæœ€çµ‚å¯¦ä½œå‡ºä¸€å€‹ç¾è§€çš„ Image Galleryã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†ç”±æœ€å¤–å±¤çš„.panelsåŒ…è¦†ä½å…§éƒ¨çš„5å€‹.panelæ‰€å½¢æˆçš„ä¸€å€‹å·¢ç‹€çµæ§‹ã€‚ 123456789101112131415161718192021222324252627&lt;div class=&quot;panels&quot;&gt; &lt;div class=&quot;panel panel1&quot;&gt; &lt;p&gt;Hey&lt;/p&gt; &lt;p&gt;Let&#x27;s&lt;/p&gt; &lt;p&gt;Dance&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;panel panel2&quot;&gt; &lt;p&gt;Give&lt;/p&gt; &lt;p&gt;Take&lt;/p&gt; &lt;p&gt;Receive&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;panel panel3&quot;&gt; &lt;p&gt;Experience&lt;/p&gt; &lt;p&gt;It&lt;/p&gt; &lt;p&gt;Today&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;panel panel4&quot;&gt; &lt;p&gt;Give&lt;/p&gt; &lt;p&gt;All&lt;/p&gt; &lt;p&gt;You can&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;panel panel5&quot;&gt; &lt;p&gt;Life&lt;/p&gt; &lt;p&gt;In&lt;/p&gt; &lt;p&gt;Motion&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; CSS éƒ¨åˆ†(åƒ…èªªæ˜å½±ç‰‡ä¸­æ›´å‹•çš„éƒ¨åˆ†) å…ˆå°‡æœ€å¤–å±¤çš„ .panels é¡¯ç¤ºé¡å‹è¨­å®šç‚º flexï¼Œå®ƒåŒæ™‚ä¹Ÿä½œç‚ºä¸€å€‹ flex-container åŒ…è¦†ä½å…§éƒ¨çš„äº”å€‹ flex-items ä¹Ÿå°±æ˜¯ .panelã€‚ 1234.panels &#123; /*å…¶é¤˜ç•¥é*/ display: flex;&#125; flex æ˜¯ flex-growã€flex-shrinkã€flex-basis çš„ç°¡å¯«ï¼Œåªæœ‰æŒ‡å®šä¸€å€‹å€¼çµ¦ flex æ™‚ï¼Œå‰‡ä»£è¡¨è¨­å®šçš„æ˜¯ flex-growï¼Œå…¶é¤˜å±¬æ€§ä»¥é è¨­å€¼å¸¶å…¥ã€‚ flex-grow å¯ä»¥æŒ‡å®š flex-container çš„å‰©é¤˜ç©ºé–“è©²å¦‚ä½•åˆ†é…ï¼Œä¸‹é¢æ‰€æœ‰çš„ .panel çš„ flex-grow éƒ½æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯å‡å‹»åˆ†é…å‰©é¤˜ç©ºé–“ã€‚ æ¥è‘—ï¼Œå°‡æ¯ä¸€å€‹ .panel çš„é¡¯ç¤ºé¡å‹éƒ½è¨­å®šç‚º flex (æ­¤æ™‚çš„.panel å°ä¸‹é¢çš„&lt;p&gt;&lt;/p&gt;ä¾†èªªå°±æ˜¯ flex-container) ä¸¦å°‡å…¶ä¸‹çš„ flex-item åœ¨æ°´å¹³ã€é‰›ç›´æ–¹å‘éƒ½ç½®ä¸­ã€‚ æœ€å¾Œï¼Œè¨­å®š flex-direction å°‡ flex-box çš„ main-axis æ›´æ”¹ç‚ºç›´åˆ—ã€‚ 1234567.panel &#123; flex: 1; /*å°‡æ¯å€‹ flex-item çš„å¤§å°éƒ½è¨­ç‚ºä¸€æ¨£ä¸¦å¡«æ»¿*/ display: flex; justify-content: center; /*åœ¨æ°´å¹³æ–¹å‘ç½®ä¸­*/ align-items: center;/*åœ¨é‰›ç›´æ–¹å‘ç½®ä¸­*/ flex-direction: column; &#125; å°‡ .panel (flex-container)ä¸‹çš„ &lt;p&gt;&lt;/p&gt; (flex-item) çš„ flex å±¬æ€§è¨­å®šç‚º 1ã€0ã€autoï¼Œä¹Ÿå°±æ˜¯å‡å‹»åˆ†é… flex-container çš„å‰©é¤˜ç©ºé–“ã€flex-item é•·åº¦è¶…é flex-container æ™‚çš„æ”¶ç¸®é‡è¨­ç‚º 0ã€flex-item åœ¨ flex container çš„åˆå§‹å¤§å°è¨­ç‚ºè‡ªå‹•(auto)ã€‚ æ¥è‘—ï¼Œä¹Ÿå°‡&lt;p&gt;&lt;/p&gt;ç•¶ä½œæ˜¯ä¸€å€‹ flex-containerï¼Œè¨­å®šé¡¯ç¤ºé¡å‹ç‚º flexã€‚é€é justify-contentã€align-itemsï¼Œå°‡æ¨™ç±¤å…§çš„æ–‡å­—(flex-item) æ°´å¹³ã€é‰›ç›´ç½®ä¸­æ’åˆ—ã€‚ 1234567.panel &gt; * &#123; /*å…¶é¤˜çœç•¥*/ flex: 1 0 auto; display: flex; justify-content: center; align-items: center;&#125; åˆå§‹ç‹€æ…‹ï¼Œåˆ†åˆ¥å°‡åœ¨ .panel ä¸Šæ–¹å’Œä¸‹æ–¹çš„ &lt;p&gt;&lt;/p&gt; éƒ½å„ä¸Šç§»ã€ä¸‹ç§» 100% ä»¥é”åˆ°éš±è—çš„æ•ˆæœã€‚ 123456.panel &gt; *:first-child&#123; transform: translateY(-100%);/*ä¸Šç§»*/&#125;.panel &gt; *:last-child&#123; transform: translateY(100%);/*ä¸‹ç§»*/&#125; æ¥è‘—è¨­å®šç•¶.panelä¸Šæœ‰open-activeé€™å€‹ class æ™‚ï¼Œå°±å°‡åŸæœ¬éš±è—çš„æ–‡å­—åˆ†åˆ¥ä¸‹ç§»å’Œä¸Šç§»é¡¯ç¤ºå‡ºä¾†ã€‚ 123456.panel.open-active &gt; *:first-child&#123; transform: translateY(0);&#125;.panel.open-active &gt; *:last-child&#123; transform: translateY(0);&#125; .panelé–‹å•Ÿæ™‚ï¼Œå°‡å…§éƒ¨æ–‡å­—æ”¾å¤§ç‚º 40px ä¸¦å°‡ flex-container å‰©é¤˜åˆ†é…çš„ä½ç½®è®Šç‚ºåŸä¾†çš„5å€ã€‚ 1234.panel.open &#123; font-size: 40px; flex: 5;&#125; è£œå……è³‡æ–™:CSS flex å±¬æ€§åœ–è§£ Flexbox åŸºæœ¬å±¬æ€§FLEXBOX FROGGY-å­¸ç¿’ flexbox çš„å°éŠæˆ² JS éƒ¨åˆ†å–å¾—æ‰€æœ‰çš„.panel ä¸¦æ”¾åˆ° NodeList &#39;panels&#39; ä¸­ã€‚ 1const panels = document.querySelectorAll(&#x27;.panel&#x27;); ç‚º panels ä¸­çš„æ¯ä¸€å€‹.paneléƒ½è¨»å†Šå…©å€‹äº‹ä»¶ç›£è½å™¨ï¼Œç•¶ click æˆ– transitionend äº‹ä»¶ç™¼ç”Ÿæ™‚ï¼Œå°±åˆ†åˆ¥ä»¥ toggleOpen å’Œ toggleActive æ–¹æ³•é€²è¡Œäº‹ä»¶è™•ç†ã€‚ 12panels.forEach(panel =&gt; panel.addEventListener(&#x27;click&#x27;,toggleOpen));panels.forEach(panel =&gt; panel.addEventListener(&#x27;transitionend&#x27;,toggleActive)); é»æ“Šä»»æ„ä¸€å€‹.panelï¼ŒtoggleOpen() æ–¹æ³•æœƒæ›¿è§¸ç™¼äº‹ä»¶çš„.panelä¾ç…§æƒ…æ³çš„ä¸åŒï¼Œæ–°å¢æˆ–æ˜¯ç§»é™¤.open é€™å€‹ classï¼Œè‹¥æ˜¯è§¸ç™¼äº‹ä»¶çš„.panelåŸæœ¬æ²’æœ‰.openå‰‡æ–°å¢ï¼Œæœ‰çš„è©±å‰‡ç§»é™¤.openã€‚ ç•¶ transitionend äº‹ä»¶ç™¼ç”Ÿï¼ŒtoggleActive() æœƒä½œå‡ºå¦‚åŒ toggleOpen() ä¸€æ¨£çš„åˆ¤æ–·ï¼Œæ±ºå®šæ–°å¢é‚„æ˜¯ç§»é™¤.open-activeé€™å€‹ classã€‚å› ç‚ºåŒæ™‚æœƒè¢«è§¸ç™¼çš„ transitionend äº‹ä»¶æœ‰å¾ˆå¤šå€‹ï¼Œæˆ‘å€‘æ±ºå®šåœ¨è§¸ç™¼ transitionend äº‹ä»¶çš„ CSS å±¬æ€§æ˜¯ flex æ™‚ï¼Œæ‰æ¡å–è™•ç†ã€‚ç‚ºä»€éº¼ä¸å¯« e.propertyName == &#39;flex-grow&#39; æ˜¯å› ç‚ºåœ¨ Safari é¡¯ç¤ºçš„æ˜¯ flex è€Œ Chromeã€FireFox é¡¯ç¤ºçš„æ˜¯ flex-growï¼Œç‚ºé¿å…é€™å€‹å·®ç•°å°è‡´éŒ¯èª¤ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ include(â€˜flexâ€™)ï¼Œç•¶ propertyName å«æœ‰ flex å°±é€²è¡Œäº‹ä»¶è™•ç†ã€‚ 123456789function toggleOpen()&#123; this.classList.toggle(&#x27;open&#x27;);&#125;function toggleActive(e)&#123; if(e.propertyName.includes(&#x27;flex&#x27;))&#123; this.classList.toggle(&#x27;open-active&#x27;); &#125;&#125; è£œå……è³‡æ–™:Element.classList String.prototype.includes() å¯¦éš›æ•ˆæœè«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬å››å¤©","slug":"ironman2021D4","date":"2021-10-22T06:23:16.000Z","updated":"2021-10-22T06:25:03.400Z","comments":true,"path":"2021/10/22/ironman2021D4/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D4/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™ç·´ç¿’ä¸€äº› Array å¸¸ç”¨çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ filter()ã€sort()ã€map()ã€reduce()ã€‚ è§£æç¨‹å¼ç¢¼JS éƒ¨åˆ†å‰ä¸ƒå€‹ç·´ç¿’é¡Œè¦ä½¿ç”¨çš„è³‡æ–™å¦‚ä¸‹: 12345678910111213141516171819202122232425262728/*JS*/// Get your shorts on - this is an array workout!// ## Array Cardio Day 1// Some data we can work withconst inventors = [ &#123; first: &#x27;Albert&#x27;, last: &#x27;Einstein&#x27;, year: 1879, passed: 1955 &#125;, &#123; first: &#x27;Isaac&#x27;, last: &#x27;Newton&#x27;, year: 1643, passed: 1727 &#125;, &#123; first: &#x27;Galileo&#x27;, last: &#x27;Galilei&#x27;, year: 1564, passed: 1642 &#125;, &#123; first: &#x27;Marie&#x27;, last: &#x27;Curie&#x27;, year: 1867, passed: 1934 &#125;, &#123; first: &#x27;Johannes&#x27;, last: &#x27;Kepler&#x27;, year: 1571, passed: 1630 &#125;, &#123; first: &#x27;Nicolaus&#x27;, last: &#x27;Copernicus&#x27;, year: 1473, passed: 1543 &#125;, &#123; first: &#x27;Max&#x27;, last: &#x27;Planck&#x27;, year: 1858, passed: 1947 &#125;, &#123; first: &#x27;Katherine&#x27;, last: &#x27;Blodgett&#x27;, year: 1898, passed: 1979 &#125;, &#123; first: &#x27;Ada&#x27;, last: &#x27;Lovelace&#x27;, year: 1815, passed: 1852 &#125;, &#123; first: &#x27;Sarah E.&#x27;, last: &#x27;Goode&#x27;, year: 1855, passed: 1905 &#125;, &#123; first: &#x27;Lise&#x27;, last: &#x27;Meitner&#x27;, year: 1878, passed: 1968 &#125;, &#123; first: &#x27;Hanna&#x27;, last: &#x27;HammarstrÃ¶m&#x27;, year: 1829, passed: 1909 &#125;];const people = [ &#x27;Bernhard, Sandra&#x27;, &#x27;Bethea, Erin&#x27;, &#x27;Becker, Carl&#x27;, &#x27;Bentsen, Lloyd&#x27;, &#x27;Beckett, Samuel&#x27;, &#x27;Blake, William&#x27;, &#x27;Berger, Ric&#x27;, &#x27;Beddoes, Mick&#x27;, &#x27;Beethoven, Ludwig&#x27;, &#x27;Belloc, Hilaire&#x27;, &#x27;Begin, Menachem&#x27;, &#x27;Bellow, Saul&#x27;, &#x27;Benchley, Robert&#x27;, &#x27;Blair, Robert&#x27;, &#x27;Benenson, Peter&#x27;, &#x27;Benjamin, Walter&#x27;, &#x27;Berlin, Irving&#x27;, &#x27;Benn, Tony&#x27;, &#x27;Benson, Leana&#x27;, &#x27;Bent, Silas&#x27;, &#x27;Berle, Milton&#x27;, &#x27;Berry, Halle&#x27;, &#x27;Biko, Steve&#x27;, &#x27;Beck, Glenn&#x27;, &#x27;Bergman, Ingmar&#x27;, &#x27;Black, Elk&#x27;, &#x27;Berio, Luciano&#x27;, &#x27;Berne, Eric&#x27;, &#x27;Berra, Yogi&#x27;, &#x27;Berry, Wendell&#x27;, &#x27;Bevan, Aneurin&#x27;, &#x27;Ben-Gurion, David&#x27;, &#x27;Bevel, Ken&#x27;, &#x27;Biden, Joseph&#x27;, &#x27;Bennington, Chester&#x27;, &#x27;Bierce, Ambrose&#x27;, &#x27;Billings, Josh&#x27;, &#x27;Birrell, Augustine&#x27;, &#x27;Blair, Tony&#x27;, &#x27;Beecher, Henry&#x27;, &#x27;Biondo, Frank&#x27;]; 1. Filter the list of inventors for those who were born in the 1500â€™sArray.prototype.filter() filter() æ–¹æ³•æœƒé€éæŒ‡å®šçš„å‡½å¼é‹ç®—ï¼Œæ±ºå®šä¿ç•™å“ªäº›è³‡æ–™ä¸¦å½¢æˆä¸€å€‹æ–°çš„é™£åˆ—ã€‚ åœ¨ filter è£¡ return true ä»£è¡¨è¦ä¿ç•™è©²ç­†è³‡æ–™ï¼Œé™¤æ­¤ä¹‹å¤–çš„è³‡æ–™éƒ½æœƒè¢«æ¨æ£„ï¼Œæˆ‘å€‘æ²’å¿…è¦å†å¯« else å» return falseã€‚ filter() çš„è©³ç´°å…§å®¹ ä»¥ä¸‹æˆ‘å€‘é€é filter() éæ¿¾â€å‡ºç”Ÿæ–¼16ä¸–ç´€çš„ç™¼æ˜å®¶â€ 123456/*JS*/const fifteen = inventors.filter(function(inventor)&#123; if(inventor.year &gt;= 1500 &amp;&amp; inventor.year &lt; 1600)&#123; return true; //keep it in the new array &#125;&#125;)/*é™¤äº†æœ‰å›å‚³trueä¹‹å¤–çš„æ±è¥¿éƒ½æœƒè¢«ä¸Ÿæ‰ï¼Œä¸å¿…å†ç”¨else return false*/ æ›´ç°¡æ½”çš„å¯«æ³•: console.table()ï¼Œå¯ä»¥å°‡ Array ä»¥è¡¨æ ¼çš„å½¢å¼å‘ˆç¾å‡ºä¾†ã€‚ 123/*JS*/const fifteen = inventors.filter(inventor =&gt; (inventor.year &gt;= 1500 &amp;&amp; inventor.year &lt; 1600));console.table(fifteen); 2. Give us an array of the inventors first and last namesArray.prototype.map() map() æ–¹æ³•æœƒå»ºç«‹ä¸€å€‹å’ŒåŸé™£åˆ—é•·åº¦ç›¸åŒçš„é™£åˆ—ï¼Œå…¶å…§å®¹ç‚ºåŸé™£åˆ—çš„æ¯ä¸€å€‹å…ƒç´ ç¶“ç”±æŒ‡å®šçš„å‡½å¼é‹ç®—å¾Œæ‰€å›å‚³çš„çµæœä¹‹é›†åˆã€‚ map() çš„è©³ç´°å…§å®¹ ä»¥ä¸‹æˆ‘å€‘ä½¿ç”¨ map() æ–¹æ³•ï¼Œå°‡ç™¼æ˜å®¶çš„ first name å’Œ last name çµåˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€å€‹æ–°çš„é™£åˆ—ã€‚ 123/*JS*/const fullNames = inventors.map(inventor =&gt; `$&#123;inventor.first&#125; $&#123;inventor.last&#125;`); /*Template literals*/console.table(fullNames); 3. Sort the inventors by birthdate, oldest to youngestArray.prototype.sort() sort() æ–¹æ³•æœƒå°ä¸€å€‹é™£åˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ é€²è¡Œæ’åºï¼Œä¸¦å›å‚³æ­¤é™£åˆ—ï¼Œé è¨­æ˜¯ä»¥å­—ä¸²çš„ Unicode ç·¨ç¢¼é€²è¡Œæ’åºã€‚ æˆ‘å€‘ä¹Ÿå¯ä»¥æŒ‡å®šä¸€å€‹ compareFunction ï¼Œç”¨è‡ªè¨‚çš„æ’åºè¦å‰‡ç‚ºé™£åˆ—é€²è¡Œæ’åºã€‚ compareFunction(a, b)ï¼Œå›å‚³å€¼å°æ–¼0æ™‚ï¼Œa æœƒè¢«æ’åœ¨ b çš„å‰é¢ï¼Œåä¹‹è‹¥å›å‚³å€¼å¤§æ–¼0æ™‚ï¼Œa æœƒè¢«æ’åœ¨ b çš„å¾Œé¢ã€‚ sort() çš„è©³ç´°å…§å®¹ ä»¥ä¸‹æˆ‘å€‘ä½¿ç”¨ sort()ï¼Œå°‡è¼ƒæ—©å‡ºç”Ÿçš„ç™¼æ˜å®¶æ’åœ¨å‰é¢çš„ä½ç½®ã€‚ 1234567const ordered = inventors.sort(function(a,b)&#123; if(a.year &gt; b.year)&#123; return 1; /*a å¾€å¾Œæ’*/ &#125;else&#123; return -1; /*a å¾€å‰æ’*/ &#125;&#125;) æ›´ç°¡æ½”çš„å¯«æ³•: 12const ordered = inventors.sort((a,b) =&gt; a.year &gt; b.year ? 1 : -1);console.table(ordered); 4. How many years did all the inventors live all together?Array.prototype.reduce() reduce() æ–¹æ³•å°‡ä¸€å€‹ç´¯åŠ å™¨(accumulator)åŠé™£åˆ—ä¸­æ¯é …å…ƒç´ å‚³å…¥å‡½å¼ä¸­é€²è¡Œé‹ç®—ï¼Œå°‡é™£åˆ—åŒ–ç‚ºå–®ä¸€çš„å€¼ã€‚ å…¶ä¸­ä¸€ç¨®ç”¨æ³•å¦‚ä¸‹: 123Array.reduce((accumulator,currentValue) =&gt; &#123; return accumulator + currentValue; &#125;,initialValue); /*initialValue æ˜¯ accumulator çš„åˆå§‹å€¼*/ reduce() çš„è©³ç´°å…§å®¹ 12345const totalYears = inventors.reduce((total,inventor)=&gt;&#123; return total + (inventor.passed - inventor.year);&#125;,0);console.log(totalYears); 5. Sort the inventors by years livedä»¥ä¸‹ï¼Œæˆ‘å€‘å°‡é€™äº›ç™¼æ˜å®¶ä¾ç…§å£½å‘½çš„é•·çŸ­ç”±å¤§åˆ°å°é€²è¡Œæ’åºã€‚é€é passed - yearï¼Œæˆ‘å€‘å¯ä»¥å¾ˆç°¡å–®çš„ç®—å‡ºæ¯ä¸€ä½ç™¼æ˜å®¶çš„å£½å‘½ã€‚ 1234567const oldest = inventors.sort(function(a,b)&#123; const lastGuy = a.passed - a.year; const nextGuy = b.passed - b.year; return lastGuy &gt; nextGuy ? -1 : 1;&#125;);console.table(oldest) 6. Create a list of Boulevards in Paris that contain â€˜deâ€™ anywhere in the nameé€™é¡Œæˆ‘å€‘éœ€è¦è‡ªè¡Œåˆ° https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris å³éµæª¢æŸ¥é€²å…¥ console é€²è¡Œè§£é¡Œã€‚ Node.textContent Node.textContent å¯ä»¥å–å¾—ç¯€é»æˆ–å…¶å¾Œä»£çš„æ–‡å­—å…§å®¹ã€‚ textContent çš„è©³ç´°å…§å®¹ Array.prototype.includes() includes() æ–¹æ³•æœƒåˆ¤æ–·é™£åˆ—æ˜¯å¦åŒ…å«ç‰¹å®šçš„å…ƒç´ ï¼Œä¸¦ä»¥æ­¤ä¾†å›å‚³ true æˆ– falseã€‚ includes() çš„è©³ç´°å…§å®¹ Array.from() Array.from() æ–¹æ³•æœƒå¾é¡é™£åˆ—ï¼ˆarray-likeï¼Œä¾‹å¦‚: NodeListï¼‰æˆ–æ˜¯å¯è¿­ä»£ï¼ˆiterableï¼‰ç‰©ä»¶å»ºç«‹ä¸€å€‹æ–°çš„ Array å¯¦é«”ã€‚ from() çš„è©³ç´°å…§å®¹ é¦–å…ˆï¼Œæˆ‘å€‘å–å¾—åŒ…è¦†æ‰€æœ‰å·´é»å¤§é“åç¨±çš„æœ€ä¸Šå±¤ div æ¨™ç±¤(.mw-category)ã€‚æ¥è‘—ï¼Œå–å¾—åœ¨å…¶ä¹‹ä¸‹çš„æ‰€æœ‰é€£çµ(a)ã€‚æœ€å¾Œï¼Œä½¿ç”¨ map() æ–¹æ³•ä»¥æ‰€æœ‰é€£çµçš„å…§éƒ¨æ–‡å­—çµ„æˆæ–°é™£åˆ—ä¸¦é€é filter() éæ¿¾å‡ºåŒ…å«(include)â€™deâ€™çš„æ‰€æœ‰å¤§é“åç¨±ã€‚ 123456const category = document.querySelector(&#x27;.mw-category&#x27;);const links = Array.from(category.querySelectorAll(&#x27;a&#x27;));/*NodeList*/const de = links.map(link =&gt; link.textContent).filter(streetName =&gt; streetName.includes(&#x27;de&#x27;));console.table(de); 7. Sort the people alphabetically by last nameString.prototype.split() split()æ–¹æ³•å¯ä»¥ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”å­—å…ƒ(separator)å°‡ä¸€å€‹Stringåˆ†å‰²æˆä¸²åˆ—ã€‚ split() çš„è©³ç´°èªªæ˜ ä»¥ä¸‹ï¼Œç”¨, (é€—è™Ÿå’Œç©ºæ ¼)ä½œç‚ºåˆ†éš”å­—å…ƒå°‡ first nameã€last name åˆ‡é–‹ä¸¦æ”¾å…¥ä¸€å€‹é™£åˆ—ä¸­ï¼Œæ¥ä¸‹ä¾†å°±å¯ä»¥ä¾ç…§ aLastã€bLast çš„ Unicode é€²è¡Œ last name çš„æ’åº(ç”±å°åˆ°å¤§)ã€‚ 12345const alpha = people.sort(function(lastOne,firstOne)&#123; const [aLast,aFirst] = lastOne.split(&#x27;, &#x27;); const [bLast,bFirst] = firstOne.split(&#x27;, &#x27;); return aLast &gt; bLast ? 1 : -1;&#125;); å¦ä¸€ç¨®å¯«æ³•: 12345const alpha = people.sort((lastOne,firstOne) =&gt; &#123; const [aLast,aFirst] = lastOne.split(&#x27;, &#x27;); const [bLast,bFirst] = firstOne.split(&#x27;, &#x27;); return aLast &gt; bLast ? 1 : -1;&#125;); 8. Sum up the instances of each of theseè³‡æ–™å…§å®¹: 1const data = [&#x27;car&#x27;, &#x27;car&#x27;, &#x27;truck&#x27;, &#x27;truck&#x27;, &#x27;bike&#x27;, &#x27;walk&#x27;, &#x27;car&#x27;, &#x27;van&#x27;, &#x27;bike&#x27;, &#x27;walk&#x27;, &#x27;car&#x27;, &#x27;van&#x27;, &#x27;car&#x27;, &#x27;truck&#x27; ]; ä¸€é–‹å§‹è³¦äºˆç´¯åŠ å™¨(obj)çš„åˆå§‹å€¼(initial value)ç‚ºç©ºç‰©ä»¶({})ï¼Œå› ç‚ºæœ€åˆæ‰€æœ‰çš„ item éƒ½ä¸å­˜åœ¨æ–¼ obj ä¸­ï¼Œæ‰€ä»¥é€é if åˆ¤æ–·ç•¶ obj[item] ä¸å­˜åœ¨æ™‚ï¼Œå°±å»ºç«‹ obj[item] ä¸¦è³¦äºˆåˆå§‹å€¼0ã€‚å…¶å¾Œå°±å¯æ­£å¸¸å°‡ item æŒçºŒç´¯åŠ è‡³æ­£ç¢ºçš„äº¤é€šå·¥å…·åˆ†é¡ä¸­(obj[item]++)ã€‚ 123456789const transportation = data.reduce(function(obj,item)&#123; if(!obj[item])&#123; obj[item] = 0; &#125; obj[item]++; return obj;&#125;,&#123;&#125;)console.table(transportation);","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬ä¸‰å¤©","slug":"ironman2021D3","date":"2021-10-22T05:39:53.000Z","updated":"2021-10-22T05:40:34.224Z","comments":true,"path":"2021/10/22/ironman2021D3/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D3/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™å­¸ç¿’å»ºç«‹ CSS è®Šæ•¸ä¸¦é€é JavaScript ç›£è½ mousemoveã€change äº‹ä»¶ï¼Œæ¥è‘—ä¸»å‹•å»æ›´æ–°è®Šæ•¸çš„å€¼ï¼Œè®“ä½¿ç”¨è€…å¾—ä»¥èª¿æ•´åœ–ç‰‡æ¡†çš„å¤§å°å’ŒèƒŒæ™¯è‰²ã€åœ–ç‰‡çš„æ¨¡ç³Šç¨‹åº¦ç­‰ç­‰â€¦ã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†ç”±æœ€å¤–å±¤çš„ä»£è¡¨æ§åˆ¶åˆ—(.controls)çš„divå…ƒç´ åŒ…è¦†ä½å…§éƒ¨ç”¨ä¾†èª¿æ•´åœ–ç‰‡çš„ä¸‰å€‹ input å…ƒç´ (#spacingã€#blurã€#base)ã€‚å…¶ä¸­å…©å€‹ input å…ƒç´ ä¸Šæœ‰è¨­å®š data- å±¬æ€§ï¼Œæ¨™æ˜ä½¿ç”¨çš„å–®ä½ã€‚ 1234567891011121314&lt;h2&gt;Update CSS Variables with &lt;span class=&#x27;hl&#x27;&gt;JS&lt;/span&gt;&lt;/h2&gt;&lt;div class=&quot;controls&quot;&gt; &lt;label for=&quot;spacing&quot;&gt;Spacing:&lt;/label&gt; &lt;input id=&quot;spacing&quot; type=&quot;range&quot; name=&quot;spacing&quot; min=&quot;10&quot; max=&quot;200&quot; value=&quot;10&quot; data-sizing=&quot;px&quot;&gt; &lt;label for=&quot;blur&quot;&gt;Blur:&lt;/label&gt; &lt;input id=&quot;blur&quot; type=&quot;range&quot; name=&quot;blur&quot; min=&quot;0&quot; max=&quot;25&quot; value=&quot;10&quot; data-sizing=&quot;px&quot;&gt; &lt;label for=&quot;base&quot;&gt;Base Color&lt;/label&gt; &lt;input id=&quot;base&quot; type=&quot;color&quot; name=&quot;base&quot; value=&quot;#ffc600&quot;&gt;&lt;/div&gt;&lt;img src=&quot;https://source.unsplash.com/7bwQXzbF6KE/800x500&quot;&gt; CSS éƒ¨åˆ†ç”¨--è®Šæ•¸åç¨±çš„æ–¹å¼ï¼Œå®£å‘Šä¸‰å€‹ CSS çš„å…¨åŸŸè®Šæ•¸ï¼Œä¸¦ä¸”æ˜¯åœ¨æ ¹å…ƒç´ ä¹‹ä¸‹ã€‚ 12345:root&#123; /*CSS å…¨åŸŸè®Šæ•¸*/ --base: #ffc600; --spacing: 10px; --blur: 10px;&#125; è¦ä½¿ç”¨ CSS è®Šæ•¸ï¼Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨var()ä¸¦åœ¨è£¡é¢æ”¾å…¥è¦ä½¿ç”¨çš„è®Šæ•¸åç¨±ã€‚ 123456789img&#123; padding: var(--spacing); /*ä½¿ç”¨é—œéµå­— var( )ä¸¦åœ¨æ‹¬è™Ÿå…§å¡«å…¥æƒ³å¥—ç”¨çš„è®Šæ•¸åç¨±*/ background: var(--base); filter: blur(var(--blur)); /*å¥—ä¸Šå¸¶æœ‰æ¨¡ç³Šæ•ˆæœçš„æ¿¾é¡*/&#125;.hl&#123; color: var(--base);&#125; è£œå……èªªæ˜1:CSS è®Šæ•¸çš„è£œå……è³‡æ–™ &gt;&gt;&gt; :root æ ¹ç›®éŒ„é¸å–å™¨ - å«ä½ é˜¿çˆ¸å‡ºä¾†è¬› è£œå……èªªæ˜2:ä½¿ç”¨ CSS çš„ filter å±¬æ€§ï¼Œä¸»è¦ç›®çš„æ˜¯å¥—ä¸€å±¤æ¿¾é¡åˆ°åœ–ç‰‡ä¸Šï¼Œå¸¸è¦‹çš„å€¼é™¤äº†æœ‰ blur ä»¥å¤–ï¼Œé‚„æœ‰ contrastã€grayscale ç­‰ç­‰â€¦ã€‚ è©³ç´°è¦‹æ­¤ JSéƒ¨åˆ†å–å¾—æ‰€æœ‰çš„ input æ¨™ç±¤ï¼Œè¦æ³¨æ„çš„æ˜¯é€™è£¡çš„è³‡æ–™å‹æ…‹æ˜¯ NodeList è€Œä¸æ˜¯ Arrayã€‚ ç›¸è¼ƒ Array è€Œè¨€ï¼ŒNodeList èƒ½ç”¨çš„æ–¹æ³•å°‘å¾ˆå¤šã€‚ 12/*JS*/const inputs = document.querySelectorAll(&#x27;.controls input&#x27;); /*å–å¾—æ‰€æœ‰çš„ input å…ƒç´ ï¼Œè³‡æ–™å‹æ…‹æ˜¯ NodeList ä¸æ˜¯ Array*/ å°‡æ¯å€‹å–å¾—çš„ input æ¨™ç±¤éƒ½åˆ†åˆ¥è¨»å†Šå…©å€‹äº‹ä»¶ç›£è½å™¨ï¼Œç•¶ input æ¨™ç±¤çš„ value å±¬æ€§æœ‰è®Šå‹•(change)æˆ–æ˜¯æ»‘é¼ æœ‰åœ¨ input æ¨™ç±¤çš„æ¡¿ä¸Šç§»å‹•æ™‚ï¼Œå°±é€é handleUpdate() æ–¹æ³•é€²è¡Œäº‹ä»¶è™•ç†ã€‚ 123456function handleUpdate()&#123; &#125;inputs.forEach(input =&gt; input.addEventListener(&#x27;change&#x27;,handleUpdate)); /*ç•¶æ•¸å€¼æ”¹è®Š*/inputs.forEach(input =&gt; input.addEventListener(&#x27;mousemove&#x27;,handleUpdate)); /*ç•¶æ»‘é¼ ç§»å‹•*/ åœ¨ handleUpdate() æ–¹æ³•å…§å®£å‘Š suffix è®Šæ•¸ï¼Œé€é dataset.sizing å–å¾—å°æ‡‰å±¬æ€§çš„å–®ä½ã€‚ç•¶å±¬æ€§æ²’æœ‰å–®ä½æ™‚ï¼ŒæŒ‡å®š suffix ç‚ºç©ºå­—ä¸²ï¼Œé¿å…å› ç‚ºæ˜¯ undefined å‡ºç¾éŒ¯èª¤ã€‚ æœ€å¾Œï¼Œè—‰è‘— document.documentElement.style å–å¾—æ–‡ä»¶ä¸Šâ€æ ¹å…ƒç´ â€çš„ CSS å±¬æ€§ï¼Œé€²ä¸€æ­¥ä½¿ç”¨ setProperty() èª¿æ•´ CSS å±¬æ€§å€¼(æ³¨æ„ï¼Œæœ‰äº›å±¬æ€§å¿…é ˆè¦åŠ ä¸Šå–®ä½)ã€‚ 1234function handleUpdate()&#123; const suffix = this.dataset.sizing || &#x27;&#x27;; /*å–å¾—å–®ä½ï¼Œç•¶å–®ä½ä¸å­˜åœ¨æ™‚å°±æŒ‡å®šç‚ºç©ºå­—ä¸²*/ document.documentElement.style.setProperty(`--$&#123;this.name&#125;`,this.value + suffix); /*Template literals*/&#125; è£œå……èªªæ˜1:NodeList çš„è£œå……è³‡æ–™ â€“ JavaScript HTML DOM Node Lists è£œå……èªªæ˜2:é€é dataset å¯¦éš›å–å¾—çš„ data-è‡ªè¨‚åç¨± å±¬æ€§å…§å®¹å¦‚ä¸‹: æˆ‘å€‘å¯ä»¥é€²ä¸€æ­¥ä½¿ç”¨ dataset.è‡ªè¨‚åç¨±ï¼Œå–å¾—è£¡é¢ä»£è¡¨å–®ä½çš„â€pxâ€ã€‚(åœ–ç‰‡ä¸­çš„ sizing ç­‰åŒæ–¼æ¨™ç±¤ä¸Šçš„ data-sizing) å¯¦éš›æ•ˆæœè«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬äºŒå¤©","slug":"ironman2021D2","date":"2021-10-22T05:29:18.000Z","updated":"2021-10-22T05:33:30.620Z","comments":true,"path":"2021/10/22/ironman2021D2/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D2/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™é€é JavaScript çš„ Date ç‰©ä»¶åˆ†åˆ¥å–å¾—â€æ™‚â€ã€â€åˆ†â€ã€â€ç§’â€ä¸¦è¨ˆç®—å‡ºåœ¨åœ“ä¸Šçš„ç›¸å°æ‡‰è§’åº¦ï¼Œæœ€å¾Œæ­é… CSS çš„ transform å’Œ transition å±¬æ€§ï¼Œè£½ä½œå‡ºä¸€å€‹ç°¡æ˜“çš„æ™‚é˜ã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†ç”±æœ€å¤–å±¤çš„â€clockâ€éƒ¨åˆ†åŒ…ä½å…§å±¤çš„â€clock-faceâ€å’Œå…¶å…§éƒ¨çš„â€æ™‚é‡â€ã€â€åˆ†é‡â€ã€â€ç§’é‡â€ï¼Œå½¢æˆä¸€å€‹å®Œæ•´çš„å·¢ç‹€çµæ§‹ã€‚ 1234567&lt;div class=&quot;clock&quot;&gt; &lt;div class=&quot;clock-face&quot;&gt; &lt;div class=&quot;hand hour-hand&quot;&gt;&lt;/div&gt; &lt;div class=&quot;hand min-hand&quot;&gt;&lt;/div&gt; &lt;div class=&quot;hand second-hand&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; CSS éƒ¨åˆ†é¦–å…ˆï¼Œå°‡ç‰©ä»¶ transform çš„åŸºæº–é»ï¼Œæ›´æ”¹ç‚ºæœ€å³ç«¯ã€‚æ¥è‘—ï¼Œå°‡æ‰€æœ‰æŒ‡é‡éƒ½é å…ˆå›ºå®šåœ¨12é»é˜æ–¹å‘ã€‚æœ€å¾Œï¼Œé€é transition å±¬æ€§é‚„æœ‰ transition-timing-functionå±¬æ€§ï¼Œåˆ†åˆ¥èª¿æ•´ CSS animation æ•ˆæœè®ŠåŒ–é€Ÿåº¦å’Œåšå‡ºæŒ‡é‡ç§»å‹•æ™‚çš„å½ˆè·³æ•ˆæœã€‚ 12345678910111213.hand &#123; width: 50%; height: 6px; background: black; position: absolute; top: 50%; /*ä»¥ä¸‹æ˜¯å½±ç‰‡ä¸­æ•™å­¸çš„éƒ¨åˆ†*/ transform-origin: 100%; /*æ”¹è®Š transform çš„ x-axis*/ transform: rotate(90deg); /*åˆå§‹ä½ç½®å¾12é»é˜å‡ºç™¼*/ transition: all 0.05s; /*èª¿æ•´ CSS animation è®Šå‹•çš„é€Ÿåº¦*/ transition-timing-function: cubic-bezier(0.1, 2.7, 0.58, 1);&#125; è£œå……èªªæ˜1:transform é è¨­æ˜¯ä»¥ç‰©ä»¶ä¸­å¿ƒä½œç‚ºå¹³ç§»ã€æ—‹è½‰ã€ç¸®æ”¾ã€å‚¾æ–œæ™‚çš„åŸºæº–é»ã€‚è©³ç´°å…§å®¹è¦‹æ­¤ è£œå……èªªæ˜2:transition timing functionï¼Œå¯ç”¨ä¾†å®šç¾©è½‰å ´ç™¼ç”Ÿçš„æ™‚é–“æ›²ç·šï¼Œä»¥å››å€‹åƒæ•¸çš„è²èŒ²æ›²ç·šä»£è¡¨ã€‚è©³ç´°å…§å®¹è¦‹æ­¤ JS éƒ¨åˆ†é¦–å…ˆï¼Œåˆ†åˆ¥å–å¾—ä»£è¡¨â€æ™‚é‡â€ã€â€åˆ†é‡â€ã€â€ç§’é‡â€çš„æ¨™ç±¤ã€‚ 1234/*JS*/const secondHand = document.querySelector(&#x27;.second-hand&#x27;);const minsHand = document.querySelector(&#x27;.min-hand&#x27;)const hourHand = document.querySelector(&#x27;.hour-hand&#x27;) å»ºç«‹ Date ç‰©ä»¶ï¼Œå–å¾—â€æ™‚â€ã€â€åˆ†â€ã€â€ç§’â€çš„è³‡æ–™ï¼Œä»¥æ­¤ç®—å‡ºæ‰€æ‡‰æ—‹è½‰çš„è§’åº¦(æ³¨æ„ï¼Œè§’åº¦å¿…é ˆåŠ ä¸Šæ—©å…ˆè¨­å®šçš„90åº¦ï¼Œæ‰æœƒæ˜¯æ­£ç¢ºçš„)ï¼Œä¹‹å¾Œåˆ†åˆ¥èª¿æ•´ CSS çš„ transform å±¬æ€§ã€‚ æœ€å¾Œç”¨ setInterval() æ–¹æ³•ï¼Œè¨­å®šæ¯1000æ¯«ç§’(1ç§’)å°±åŸ·è¡Œ setDate() æ–¹æ³•ä¸€æ¬¡ï¼Œè—‰æ­¤å‹•æ…‹æ”¹è®Š rotate çš„å€¼ã€‚ (æ™‚é‡ã€åˆ†é‡ã€ç§’é‡çš„åŸç†éƒ½ä¸€æ¨£ï¼Œåªæ˜¯åœ¨è§’åº¦è¨ˆç®—ä¸Šæœ‰æ‰€å·®ç•°) 123456789101112/*JS*/function setDate()&#123; const now = new Date(); /*æ™‚é‡ã€åˆ†é‡ã€ç§’é‡çš„åŸç†éƒ½ä¸€æ¨£*/ const seconds = now.getSeconds(); const secondsDegrees = ((seconds/60)*360) + 90;/*æ—‹è½‰çš„è§’åº¦è¦åŠ ä¸Šé è¨­çš„90åº¦*/ secondHand.style.transform = `rotate($&#123;secondsDegrees&#125;deg)`;&#125; setInterval(setDate,1000) åˆ†åˆ¥è¨­å®šå®Œâ€æ™‚é‡â€ã€â€åˆ†é‡â€ã€â€ç§’é‡â€å¾Œï¼ŒsetDate() æ–¹æ³•å¦‚ä¸‹ã€‚ 1234567891011121314151617/*JS*/function setDate()&#123; const now = new Date(); /*æ™‚é‡ã€åˆ†é‡ã€ç§’é‡çš„åŸç†éƒ½ä¸€æ¨£*/ const seconds = now.getSeconds() const secondsDegrees = ((seconds/60)*360) + 90;/*æ—‹è½‰çš„è§’åº¦è¦åŠ ä¸Šé è¨­çš„90åº¦*/ secondHand.style.transform = `rotate($&#123;secondsDegrees&#125;deg)`; const mins = now.getMinutes(); const minsDegrees = ((mins/60)*360) + 90; minsHand.style.transform = `rotate($&#123;minsDegrees&#125;deg)`; const hours = now.getHours(); const hoursDegrees = ((hours/12)*360) + 90; hourHand.style.transform = `rotate($&#123;hoursDegrees&#125;deg)`;&#125; ä»¥ä¸Šéƒ½å®Œæˆå¾Œï¼Œä¸€å€‹ç°¡å–®çš„æ™‚é˜å°±å‡ºç¾äº†ã€‚ä½†ä»”ç´°ä¸€çœ‹å°±æœƒç™¼ç¾æŒ‡é‡åœ¨æŸå€‹æ™‚é–“é»æœƒçªç„¶å€’è½‰ä¸€åœˆã€‚ èˆ‰â€ç§’é‡â€ç‚ºä¾‹ï¼Œåœ¨59ç§’~0ç§’ä¹‹é–“ï¼Œæ•¸å€¼ä¸Šçš„è§’åº¦æœƒå¾444åº¦è®Šç‚º90åº¦(åˆ†é‡ä¹Ÿæ˜¯å¦‚æ­¤)ï¼Œæ•´æ•´å€’è½‰354åº¦æ¥è¿‘ä¸€åœˆï¼Œé€™å°±è§£é‡‹äº†ç‚ºä»€éº¼æŒ‡é‡æœƒæœ‰çªç„¶å€’è½‰çš„ç¾è±¡ã€‚ è€Œæˆ‘å€‘å¯ä»¥åˆ†åˆ¥è¨˜éŒ„æ™‚é‡å’Œåˆ†é‡æ‰€èµ°çš„åœˆæ•¸ï¼Œä¸¦å°‡åŸä¾†è¨ˆç®—å‡ºçš„åº¦æ•¸åŠ ä¸Š360åº¦*åœˆæ•¸ï¼Œè§£æ±ºæŒ‡é‡å€’è½‰çš„å•é¡Œã€‚ ç”¨ if åˆ¤æ–·åˆ° 0 ç§’(åˆ†)æ™‚ï¼Œå°±å°‡åœˆæ•¸åŠ 1ã€‚ 12345678910111213141516171819202122232425var secRound = 0; /*ç´€éŒ„ç§’é‡æ‰€èµ°åœˆæ•¸*/var minRound = 0; /*ç´€éŒ„ç§’é‡æ‰€èµ°åœˆæ•¸*/function setDate()&#123; const now = new Date(); /*æ™‚é‡ã€åˆ†é‡ã€ç§’é‡çš„åŸç†éƒ½ä¸€æ¨£*/ const seconds = now.getSeconds() if(seconds == 0)&#123;/*é¿å…å›å½ˆ*/ secRound += 1; &#125; const secondsDegrees = ((seconds/60)*360) + 360*secRound + 90;/*æ—‹è½‰çš„è§’åº¦è¦åŠ ä¸Šé è¨­çš„90åº¦*/ secondHand.style.transform = `rotate($&#123;secondsDegrees&#125;deg)`; const mins = now.getMinutes(); if(mins == 0)&#123;/*é¿å…å›å½ˆ*/ minRound += 1; &#125; const minsDegrees = ((mins/60)*360) + 360*minRound + 90; minsHand.style.transform = `rotate($&#123;minsDegrees&#125;deg)`; const hours = now.getHours(); const hoursDegrees = ((hours/12)*360) + 90; hourHand.style.transform = `rotate($&#123;hoursDegrees&#125;deg)`;&#125; æœ€å¾Œçš„æœ€å¾Œï¼Œæˆ‘å€‘é‚„å¯ä»¥è®“æŒ‡é‡çš„ä½ç½®æ›´åŠ ç²¾æº–ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œç§’é‡æ¯èµ°ä¸€æ ¼ï¼Œåˆ†é‡æ‡‰è©²è·Ÿè‘—ç§»å‹•ä¸€é»ï¼ŒåŒç†æ™‚é‡ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ å°åˆ†é‡è€Œè¨€ç§»å‹•æ¯éä¸€åˆ†é˜ç§»å‹•6åº¦ï¼Œæˆ‘å€‘å¯ä»¥ç”¨ (ç§’æ•¸/60)*6ï¼Œç®—å‡ºå¯¦éš›ä¸Šæ¯éä¸€ç§’é˜ï¼Œåˆ†é‡æ‡‰è©²è¦è·Ÿè‘—ç§»å‹•å¤šå°‘åº¦ã€‚ å°æ™‚é‡è€Œè¨€ç§»å‹•æ¯éä¸€å°æ™‚ç§»å‹•30åº¦ï¼Œæˆ‘å€‘å¯ä»¥ç”¨ (åˆ†é˜æ•¸/60)*30ï¼Œç®—å‡ºå¯¦éš›ä¸Šæ¯éä¸€åˆ†é˜ï¼Œæ™‚é‡æ‡‰è©²è¦è·Ÿè‘—ç§»å‹•å¤šå°‘åº¦ã€‚ 12345678910const mins = now.getMinutes();if(mins == 0)&#123;/*é¿å…å›å½ˆ*/ minRound += 1;&#125;const minsDegrees = ((mins/60)*360) + 360*minRound + ((seconds/60)*6) + 90;minsHand.style.transform = `rotate($&#123;minsDegrees&#125;deg)`;const hours = now.getHours();const hoursDegrees = ((hours/12)*360) + ((mins/60)*30) + 90;hourHand.style.transform = `rotate($&#123;hoursDegrees&#125;deg)`; è£œå……èªªæ˜1:rotate($&#123;hoursDegrees&#125;deg) æ˜¯ ES6 Template literals çš„å¯«æ³•ã€‚è©³ç´°ä»‹ç´¹ Template literals ç¯„ä¾‹ç¶²é è«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"JS30 å…¨æ”»ç•¥ ç¬¬ä¸€å¤©","slug":"ironman2021D1","date":"2021-10-21T16:20:35.000Z","updated":"2021-10-22T05:36:40.695Z","comments":true,"path":"2021/10/22/ironman2021D1/","link":"","permalink":"https://qi-xiang.github.io/2021/10/22/ironman2021D1/","excerpt":"","text":"å‰è¨€JS 30 æ˜¯ç”±åŠ æ‹¿å¤§çš„å…¨ç«¯å·¥ç¨‹å¸« Wes Bos å…è²»æä¾›çš„ JavaScript ç°¡å–®æ‡‰ç”¨èª²ç¨‹ï¼Œèª²ç¨‹ä¸»æ‰“ No Frameworksã€No Compilersã€No Librariesã€No Boilerplate åœ¨30å¤©çš„30éƒ¨æ•™å­¸å½±ç‰‡è£¡ï¼Œå»ºç«‹30å€‹JavaScriptçš„æœ‰è¶£å°æ±è¥¿ã€‚ å¦å¤–ï¼ŒWes Bos ä¹Ÿå¾ˆç„¡ç§åœ°åœ¨ Github ä¸Šå…¬é–‹äº†æ‰€æœ‰ JS 30 èª²ç¨‹çš„ç¨‹å¼ç¢¼ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥å» fork æˆ–ä¸‹è¼‰ã€‚ æœ¬æ—¥ç›®æ¨™é€éç›£è½ â€œtransitionend äº‹ä»¶â€ å’Œ â€œkeydown äº‹ä»¶â€ï¼Œèª¿æ•´ CSS è¨­å®šä»¥åŠæ’­æ”¾éŸ³æ•ˆï¼Œæœ€çµ‚å»ºç«‹ä¸€çµ„çˆµå£«é¼“ä¸¦ä¾ç…§æŒ‰ä¸‹æŒ‰éµçš„ä¸åŒæ’­æ”¾ä¸åŒçš„éŸ³æ•ˆä¼´éš¨ç¶²é ä¸Šçš„ CSS å‹•ç•«æ•ˆæœã€‚ è§£æç¨‹å¼ç¢¼HTML éƒ¨åˆ†åŸºæœ¬çµæ§‹æ˜¯ç”±æœ€å¤–å±¤çš„ â€œkeysâ€ åŒ…ä½å…§å±¤9å€‹ â€œkeyâ€ çš„å·¢ç‹€çµæ§‹ï¼Œå…§å±¤çš„ â€œkeyâ€ éƒ½æœ‰ data-key å±¬æ€§ä¸¦æœ‰ç›¸ç•°çš„æ•¸å€¼ï¼Œé€™äº›ç›¸ç•°å€¼åœ¨æ¥ä¸‹ä¾†åˆ¤æ–·è¦æ’­æ”¾å“ªå€‹éŸ³æª”å’Œå¥—ç”¨ CSS è¨­å®šåˆ°å“ªå€‹ â€œkeyâ€ æ™‚å¾ˆé‡è¦ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738&lt;div class=&quot;keys&quot;&gt; &lt;div data-key=&quot;65&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;A&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;clap&lt;/span&gt; &lt;/div&gt; &lt;div data-key=&quot;83&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;S&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;hihat&lt;/span&gt; &lt;/div&gt; &lt;div data-key=&quot;68&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;D&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;kick&lt;/span&gt; &lt;/div&gt; &lt;div data-key=&quot;70&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;F&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;openhat&lt;/span&gt; &lt;/div&gt; &lt;div data-key=&quot;71&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;G&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;boom&lt;/span&gt; &lt;/div&gt; &lt;div data-key=&quot;72&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;H&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;ride&lt;/span&gt; &lt;/div&gt; &lt;div data-key=&quot;74&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;J&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;snare&lt;/span&gt; &lt;/div&gt; &lt;div data-key=&quot;75&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;K&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;tom&lt;/span&gt; &lt;/div&gt; &lt;div data-key=&quot;76&quot; class=&quot;key&quot;&gt; &lt;kbd&gt;L&lt;/kbd&gt; &lt;span class=&quot;sound&quot;&gt;tink&lt;/span&gt; &lt;/div&gt;&lt;/div&gt; è£œå……èªªæ˜1:HTML5 æ–°å¢äº† data-* è‡ªå®šç¾©å±¬æ€§(data attributes)ï¼Œè®“æˆ‘å€‘èƒ½ä»¥ data- ç‚ºé–‹é ­ï¼Œå»ºç«‹è‡ªè¨‚çš„å±¬æ€§å’Œå€¼ä¸¦éš¨æ™‚å¯ä»¥è®€å¯«åœ¨å…ƒç´ ä¸Šçš„è³‡æ–™æ•¸å€¼ï¼Œè€Œä¸æœƒå½±éŸ¿åˆ°æ•´å€‹ç‰ˆé¢ã€‚ ç¨‹å¼ç¢¼ä¸­çš„ data-key å°±æ˜¯ä¸€å€‹ä¸éŒ¯çš„ä¾‹å­ã€‚ è£œå……èªªæ˜2:&lt;kbd&gt; æ˜¯ä¸€å€‹è¡Œå…§å…ƒç´  (inline element) ï¼Œç”¨ä¾†æ¨™ç¤ºéµç›¤ç¬¦è™Ÿã€‚ JS éƒ¨åˆ†é¦–å…ˆï¼Œæˆ‘å€‘å…ˆä¾ç…§æŒ‰ä¸‹æŒ‰éµçš„ keyCode å–å¾—ç‰¹å®šçš„éŸ³æª”å’Œ div æ¨™ç±¤ã€‚ 12345/*JS*/window.addEventListener(&quot;keydown&quot;,function()&#123; const audio = document.querySelector(`audio[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); const key = document.querySelector(`.key[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`);&#125;) å› ç‚ºå¯¦éš›ä¸Šæœƒæœ‰ä½œç”¨çš„æŒ‰éµåªæœ‰9å€‹ï¼ŒæŒ‰åˆ°æ²’ä½œç”¨çš„æŒ‰éµæ™‚ï¼Œç†è«–ä¸Šæˆ‘å€‘æ‡‰è©²è¦çµ‚æ­¢åŸ·è¡Œæ–¹æ³•é¿å…éŒ¯èª¤ï¼Œæ‰€ä»¥æ–°å¢ if åˆ¤æ–·æ˜¯å¦æˆåŠŸå–å¾—éŸ³æª”ï¼Œæ²’æœ‰å–å¾—å°±çµ‚æ­¢æ–¹æ³•çš„åŸ·è¡Œã€‚ 123456/*JS*/window.addEventListener(&quot;keydown&quot;,function()&#123; const audio = document.querySelector(`audio[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); const key = document.querySelector(`.key[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); if(!audio)return; /*å¦‚æœkeyCodeä¸å­˜åœ¨å‰‡ä¸­æ­¢åŸ·è¡Œæ–¹æ³•*/&#125;) æ¥è‘—æ˜¯æ’­æ”¾éŸ³æª”çš„éƒ¨åˆ†ï¼Œå¦‚æœåªå–®ç”¨ audio.play()çš„è©±ï¼Œå‰‡åœ¨é€£çºŒæŒ‰ä¸‹åŒä¸€æŒ‰éµæ™‚ï¼Œæœƒå‡ºç¾è²éŸ³ä¸é€£è²«çš„æ•ˆæœï¼Œæ­¤æ™‚éœ€è¦å°‡æ¯æ¬¡æ’­æ”¾éŸ³æª”çš„æ™‚é–“è»¸éƒ½è¨­ç‚º0ï¼Œè®“æ¯æ¬¡æ’­æ”¾éƒ½æ˜¯å¾é ­é–‹å§‹ã€‚ 123456789/*JS*/window.addEventListener(&quot;keydown&quot;,function()&#123; const audio = document.querySelector(`audio[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); const key = document.querySelector(`.key[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); if(!audio)return; /*å¦‚æœkeyCodeä¸å­˜åœ¨å‰‡ä¸­æ­¢åŸ·è¡Œæ–¹æ³•*/ audio.currentTime = 0; /*ç¢ºä¿æ¯ä¸€æ¬¡æŒ‰ä¸‹éµç›¤éƒ½å¾é ­æ’­æ”¾éŸ³æª”*/ audio.play(); /*æ’­æ”¾éŸ³æª”*/&#125;) æœ€å¾Œè™•ç† CSS çš„å‹•ç•«æ•ˆæœï¼Œæˆ‘å€‘æœƒå¥—ç”¨ .playing çš„ CSS è¨­å®šåˆ°æ’­æ”¾éŸ³æª”çš„ div æ¨™ç±¤ä¸Šã€‚ 123456/*CSS*/.playing &#123; transform: scale(1.1); /*è®“ div æ¨™ç±¤è®Šå¤§1.1å€*/ border-color: #ffc600; /*æ”¹è®Š border çš„é¡è‰²*/ box-shadow: 0 0 1rem #ffc600; /*ç”¢ç”Ÿé™°å½±*/&#125; 1234567891011/*JS*/window.addEventListener(&quot;keydown&quot;,function()&#123; const audio = document.querySelector(`audio[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); const key = document.querySelector(`.key[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); if(!audio)return; /*å¦‚æœkeyCodeä¸å­˜åœ¨å‰‡ä¸­æ­¢åŸ·è¡Œæ–¹æ³•*/ audio.currentTime = 0; /*ç¢ºä¿æ¯ä¸€æ¬¡æŒ‰ä¸‹éµç›¤éƒ½å¾é ­æ’­æ”¾éŸ³æª”*/ audio.play(); /*æ’­æ”¾éŸ³æª”*/ key.classList.add(&#x27;playing&#x27;);&#125;) ä¸€å®šæ™‚é–“å¾Œï¼Œæˆ‘å€‘å¿…é ˆæ‹¿æ‰ .playing çš„ CSS è¨­å®šï¼Œè®“ div æ¨™ç±¤å›åˆ°æœªè¢«æŒ‰éµè§¸ç™¼çš„ç‹€æ…‹ã€‚å› æ­¤æˆ‘å€‘å¯ä»¥åœ¨æ¯å€‹ key ä¸Šéƒ½è¨»å†Š â€œtransitionend äº‹ä»¶â€ çš„ç›£è½å™¨ï¼Œä¸¦ç”¨ removeTransition() è™•ç†è©²äº‹ä»¶ã€‚ 123456789/*JS*/function removeTransition(e)&#123; this.classList.remove(&#x27;playing&#x27;);&#125;/*å–å¾—æ‰€æœ‰çš„ key æ¨™ç±¤*/const keys = document.querySelectorAll(`.key`);/*åœ¨æ¯å€‹ key ä¸Šéƒ½è¨»å†Š &quot;transitionend äº‹ä»¶&quot; çš„ç›£è½å™¨*/keys.forEach(key =&gt; key.addEventListener(&#x27;transitionend&#x27;,removeTransition)); åˆ°é€™è£¡åŸºæœ¬ä¸Šå°±å®Œæˆäº†ï¼Œä½†æ˜¯å¦‚æœæŠŠ removeTransition() çš„ â€œtransitionend äº‹ä»¶â€ å°åˆ° consoleï¼Œå¯ä»¥ç™¼ç¾ â€œtransitionend äº‹ä»¶â€ ä¸åªæœ‰ä¸€å€‹ã€‚ æˆ‘å€‘å¯ä»¥é¸æ“‡ä»¥ transform çµæŸè§¸ç™¼çš„é‚£å€‹ â€œtransitionend äº‹ä»¶â€ï¼Œä½œç‚ºç§»é™¤ CSS è¨­å®šçš„æ™‚æ©Ÿé»ã€‚ 123456/*JS*//*ç•¶transformå®Œæˆå°±ç§»é™¤.playing*/function removeTransition(e)&#123; if(e.propertyName != &#x27;transform&#x27;) return; this.classList.remove(&#x27;playing&#x27;);&#125; æ•´ç†å¾Œçš„å®Œæ•´JSå¦‚ä¸‹: 1234567891011121314151617181920/*JS*/function playSound(e)&#123; const audio = document.querySelector(`audio[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); const key = document.querySelector(`.key[data-key=&quot;$&#123;e.keyCode&#125;&quot;]`); if(!audio)return; /*å¦‚æœkeyCodeä¸å­˜åœ¨å‰‡ä¸­æ­¢åŸ·è¡Œæ–¹æ³•*/ audio.currentTime = 0; /*ç¢ºä¿æ¯ä¸€æ¬¡æŒ‰ä¸‹éµç›¤éƒ½å¾é ­æ’­æ”¾éŸ³æª”*/ audio.play(); /*æ’­æ”¾éŸ³æª”*/ key.classList.add(&#x27;playing&#x27;); &#125; /*ç•¶transformå®Œæˆå°±ç§»é™¤.playing*/function removeTransition(e)&#123; if(e.propertyName != &#x27;transform&#x27;) return; this.classList.remove(&#x27;playing&#x27;);&#125;const keys = document.querySelectorAll(`.key`);keys.forEach(key =&gt; key.addEventListener(&#x27;transitionend&#x27;,removeTransition));window.addEventListener(&quot;keydown&quot;,playSound) è£œå……èªªæ˜:ä¸Šé¢ `.key` çš„ç”¨æ³•æ˜¯ JavaScript ES6 ä¸­æ–°å¢çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²ï¼ˆtemplate literals)ã€‚ åœ¨éå»æˆ‘å€‘éœ€è¦ç”¨ä»¥ä¸‹å¯«æ³•åœ¨JS çš„å­—ä¸²ä¸­æ”¾å…¥ HTML å…§å®¹: 1234567/*JS*/let component_es5 = &#x27;&lt;header&gt;\\n&#x27;+&#x27;&lt;div class=&quot;banner&quot;&gt;\\n&#x27;+&#x27;&lt;img src=&quot;img1.jpg&quot;\\n&#x27;+&#x27;&lt;/div&gt;\\n&#x27;+&#x27;&lt;/header&gt;&#x27; ä¸Šé¢çš„å¯«æ³•ç›¸ç•¶å†—é•·ï¼Œè€Œä¸”ä¸å…·å‚™é–±è®€æ€§ã€‚åœ¨ ES6 ä¸­æˆ‘å€‘å¯ä»¥ç”¨åå¼•è™Ÿå¿«é€Ÿçš„è§£æ±ºé€™æ¨£çš„ç‹€æ³ï¼š 12345678/*JS*/let component_es6 = `&lt;header&gt; &lt;div class=&#x27;banner&#x27;&gt; &lt;img src=&quot;img1.jpg&gt; &lt;/div&gt;&lt;/header&gt;` â€“ è³‡æ–™ä¾†æº: [ç­†è¨˜] JavaScript ES6 ä¸­çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²ï¼ˆtemplate literalsï¼‰å’Œæ¨™ç±¤æ¨¡ç‰ˆï¼ˆtagged templateï¼‰ å¯¦éš›æ•ˆæœè«‹æŒ‰æ­¤","categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]},{"title":"Hello World","slug":"hello-world","date":"2021-10-21T10:28:26.490Z","updated":"2021-10-21T10:28:26.490Z","comments":true,"path":"2021/10/21/hello-world/","link":"","permalink":"https://qi-xiang.github.io/2021/10/21/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"JS30","slug":"JS30","permalink":"https://qi-xiang.github.io/tags/JS30/"}]}